.. index:: pair: class; xf::fintech::FdG2SwaptionEngine
.. _doxid-classxf_1_1fintech_1_1_fd_g2_swaption_engine:
.. _cid-xf::fintech::fdg2swaptionengine:

template class xf::fintech::FdG2SwaptionEngine
==============================================

.. toctree::
	:hidden:

	struct_xf_fintech_FdG2SwaptionEngine_NinePointLinear.rst
	struct_xf_fintech_FdG2SwaptionEngine_TripleBandLinear.rst

.. code-block:: cpp
	:class: overview-code-block

	#include <fd_g2_swaption_engine.hpp>


Overview
~~~~~~~~

Bermudan swaption pricing engine using Finite-difference methods. :ref:`More...<details-doxid-classxf_1_1fintech_1_1_fd_g2_swaption_engine>`

.. ref-code-block:: cpp
	:class: overview-code-block

	template <
	    typename DT,
	    Size _exSize,
	    Size _xGridMax,
	    Size _yGridMax,
	    Size _layoutSizeMax = _xGridMax* _yGridMax
	    >
	class FdG2SwaptionEngine

	// structs

	struct :ref:`NinePointLinear<doxid-structxf_1_1fintech_1_1_fd_g2_swaption_engine_1_1_nine_point_linear>` 
	struct :ref:`TripleBandLinear<doxid-structxf_1_1fintech_1_1_fd_g2_swaption_engine_1_1_triple_band_linear>` 


.. FunctionSection

Methods
~~~~~~~

.. _doxid-classxf_1_1fintech_1_1_fd_g2_swaption_engine_1a3c46937e8dffa2b99919021b315c61dd:
.. _cid-xf::fintech::fdg2swaptionengine::init:

init
----


Defined in <xf_fintech/fd_g2_swaption_engine.hpp>
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^


.. ref-code-block:: cpp
	:class: title-code-block

	void init (
	    DT a,
	    DT sigma,
	    DT b,
	    DT eta,
	    DT rho,
	    :ref:`Size<doxid-namespacexf_1_1fintech_1a32e672525e04723278726fd742b9bf77>` tGrid,
	    :ref:`Size<doxid-namespacexf_1_1fintech_1a32e672525e04723278726fd742b9bf77>` xGrid,
	    :ref:`Size<doxid-namespacexf_1_1fintech_1a32e672525e04723278726fd742b9bf77>` yGrid,
	    DT invEps,
	    DT theta,
	    DT mu,
	    DT fixedRate,
	    DT rate,
	    DT nominal,
	    DT stoppingTimes [_exSize+1],
	    DT accrualTime [_exSize+1],
	    DT floatingAccrualPeriod [_exSize+1],
	    DT iborTime [_exSize+1],
	    DT iborPeriod [_exSize+1]
	    )

initilize the private members of class



.. rubric:: Parameters:

.. list-table::
    :widths: 20 80

    *
        - a

        - A factor of spreads on interest rates.

    *
        - sigma

        - Overall level of volatility on interest rates.

    *
        - b

        - A factor of spreads on interest rates.

    *
        - eta

        - A factor of interest rates.

    *
        - rho

        - A factor of interest rates.

    *
        - tGrid

        - The steps of npv to calculate.

    *
        - xGrid

        - The numbers of x direction to calculate.

    *
        - yGrid

        - The numbers of y direction to calculate.

    *
        - layoutSize

        - The numbers of mesher to calculate.

    *
        - invEps

        - The epsilon which is used to create the mesher, and the default value should be 1.0e-5.

    *
        - theta

        - Parameter used to build up the differential equation, the pricing engine uses crank-nicolson algorithm, so default value of theta should be 0.5.

    *
        - mu

        - A fator for step.

    *
        - nominal

        - The nominal value of the swap.

    *
        - fixedRate

        - Fixed rate of the swaption. (per year)

    *
        - rate

        - Floating rate of the swaption. (per yaer)

    *
        - stoppingTimes

        - The array which contains every exercise time in sequence with a 0.99 day time point at the front. (the unit should be year)

    *
        - accrualTime

        - The array which contains every payment time in fixed and floating rate. (the unit should be year)

    *
        - floatingAccrualPeriod

        - We support multiple day count convention, so this port is given to users to let them decide what kind of day count convention should be applied when calculating the amount of money in a period.

    *
        - iborTime

        - This array is used to calculate the discount at a specific time point.

    *
        - iborPeriod

        - This port is also given to users to let them decide what kind of day count convention should be applied when calculating the actual floating rate in a period.

.. _doxid-classxf_1_1fintech_1_1_fd_g2_swaption_engine_1a60727e63155d0d46dacaa75bc8994069:
.. _cid-xf::fintech::fdg2swaptionengine::calculate:

calculate
---------


Defined in <xf_fintech/fd_g2_swaption_engine.hpp>
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^


.. ref-code-block:: cpp
	:class: title-code-block

	void calculate ()

the directly related interface for users

.. _doxid-classxf_1_1fintech_1_1_fd_g2_swaption_engine_1ad3def79ecbe3e93386acd8ef63d4205f:
.. _cid-xf::fintech::fdg2swaptionengine::getnpv:

getNPV
------


Defined in <xf_fintech/fd_g2_swaption_engine.hpp>
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^


.. ref-code-block:: cpp
	:class: title-code-block

	DT getNPV ()

interface of get npv for users



.. rubric:: Returns:

the result of npv

