

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="keywords" content="Vitis, library, Database, Quantitative Finance, Vision, Data Compression, Security, Solver, BLAS, Hardware, xfOpenCV, xfdatabase, xffintech, xfcompression, xfsecurity, xfsolver, xfblas, xfhardware"/>
<meta name="description" content="Vitis software development platform includes an extensive set of open-source, performance-optimized libraries that offer out-of-the-box acceleration with minimal to zero-code changes to your existing applications, without the need to reimplement your algorithms from scratch to harness the benefits of Xilinx adaptive compute."/>
<meta name="xlnxdocumentclass" content="Document"> 
<meta name="xlnxdocumenttypes" content="Tutorials"> 
<!-- Header information provided by Emily-->
    <meta name="Language" content="en">
    <meta name="Location" content="us">
    <link rel="icon" type="image/vnd.microsoft.icon" href="https://www.xilinx.com/etc.clientlibs/site/clientlibs/xilinx/all/resources/favicon.ico">
    <link rel="shortcut icon" type="image/vnd.microsoft.icon" href="https://www.xilinx.com/etc.clientlibs/site/clientlibs/xilinx/all/resources/favicon.ico">
  
  <title>L3 API GEMM benchmark &mdash; Vitis BLAS Library 1.0 beta documentation</title>
  
<!-- Header information provided by Emily-->
    <meta name="apple-itunes-app" content="app-id=1063287962">
    <meta name="google-play-app" content="app-id=com.marketing.xilinxgo">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <script src="https://kit.fontawesome.com/d3dd8c60ed.js"></script>
    
    <link rel="stylesheet" href="https://www.xilinx.com/etc.clientlibs/clientlibs/granite/jquery-ui.min.css" type="text/css">
    <link rel="stylesheet" href="https://www.xilinx.com/etc.clientlibs/site/clientlibs/xilinx/header-footer.min.css" type="text/css">
    <link rel="stylesheet" href="https://www.xilinx.com/etc.clientlibs/site/clientlibs/xilinx/all.min.css" type="text/css">
    
    <script type="text/javascript" src="https://www.xilinx.com/etc.clientlibs/clientlibs/granite/jquery.min.js"></script>
    <script type="text/javascript" src="https://www.xilinx.com/etc.clientlibs/clientlibs/granite/jquery-ui.min.js"></script>
    <script type="text/javascript" src="https://www.xilinx.com/etc.clientlibs/site/clientlibs/xilinx/header-footer.min.js"></script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet" type="text/css">
  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="L3 API test" href="L3_test.html" />
    <link rel="prev" title="L3 API benchmark" href="L3_benchmark.html" /> 
</head>

<body class="wy-body-for-nav">
<div class="xilinx-bs3">
    <noindex>
        <header data-component="header">
            <nav class="navbar navbar-default">
                <div class="container main-nav">
                    <div class="row">
                        <div class="col-xs-5 col-sm-2 logo-column">
                            <div class="logo">
                                <a href="https://www.xilinx.com/">
                                    <img src="https://www.xilinx.com/etc.clientlibs/site/clientlibs/xilinx/all/resources/imgs/header/xilinx-header-logo.svg" title="Xilinx Inc" />
                                </a>
                            </div>
                        </div>
                        <div class="col-xs-12 col-sm-8 navbar-column">
                            <div class="navbar navbar-collapse collapse" id="xilinx-main-menu">
                                <ul class="nav navbar-nav nav-justified">
                                    <li class="accordion-toggle-icons" data-component="toggle-dropdown">
                                        <a href="https://developer.xilinx.com/">
                                            Developers
                                        </a>
                                    </li>
                                    <li class="accordion-toggle-icons" data-component="toggle-dropdown">
                                        <a href="https://www.xilinx.com/support.html">
                                            Support
                                        </a>
                                    </li>
                                    <li class="accordion-toggle-icons" data-component="toggle-dropdown">
                                        <a href="https://forums.xilinx.com/">
                                            Forums
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="mini-nav col-sm-2">
                            <button type="button" data-function="xilinx-mobile-menu" id="nav-toggle" class="navbar-toggle collapsed visible-xs-block" aria-expanded="false">
                                <span></span>
                                <span></span>
                                <span></span>
                                <span></span>
                            </button>
                        </div>
                    </div>
                </div>
            </nav>
        </header>
    </noindex>
</div>
   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> Vitis BLAS Library
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Library Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../overview.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../overview.html#license">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../overview.html#trademark-notice">Trademark Notice</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release.html">Release Note</a></li>
</ul>
<p class="caption"><span class="caption-text">User Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../L1/L1.html">L1 Primitives User Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="L3.html">L3 API User Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="L3_overview.html">L3 API Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="L3_example.html">L3 API example</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="L3_benchmark.html">L3 API benchmark</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">L3 API GEMM benchmark</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#benchmarking-intel-math-kernel-libray-mkl">1. Benchmarking Intel® Math Kernel Libray (MKL)</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#introduction">1.1 Introduction</a></li>
<li class="toctree-l5"><a class="reference internal" href="#benchmarking-steps">1.2 Benchmarking Steps</a></li>
<li class="toctree-l5"><a class="reference internal" href="#performance-result-on-nimbix-cloud">1.3 Performance Result on Nimbix Cloud</a></li>
<li class="toctree-l5"><a class="reference internal" href="#reference">1.4 Reference</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#benchmarking-xfblasgemm-xilinx-s-xfblas-library">2. Benchmarking xfblasGemm - Xilinx’s XFBLAS library</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#id1">2.1 Benchmarking Steps</a></li>
<li class="toctree-l5"><a class="reference internal" href="#performance-results-on-nimbix-cloud">2.2 Performance Results on Nimbix Cloud</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="L3_test.html">L3 API test</a></li>
<li class="toctree-l2"><a class="reference internal" href="L3_python_bindings.html">L3 Python bindings</a></li>
<li class="toctree-l2"><a class="reference internal" href="L3_application.html">L3 API application</a></li>
</ul>
</li>
</ul>

            
			<p class="caption"><span class="caption-text">This Page</span></p>
				<ul class="current">
				  <li class="toctree-l1"><a href="../../_sources/user_guide/L3/L3_benchmark_gemm.rst.txt"
						rel="nofollow">Show Source</a></li>						
				</ul>
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Vitis BLAS Library</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="L3.html">L3 API User Guide</a> &raquo;</li>
        
          <li><a href="L3_benchmark.html">L3 API benchmark</a> &raquo;</li>
        
      <li>L3 API GEMM benchmark</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/user_guide/L3/L3_benchmark_gemm.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="l3-api-gemm-benchmark">
<span id="benchmark-gemm-l3"></span><h1>L3 API GEMM benchmark<a class="headerlink" href="#l3-api-gemm-benchmark" title="Permalink to this headline">¶</a></h1>
<div class="section" id="benchmarking-intel-math-kernel-libray-mkl">
<h2>1. Benchmarking Intel® Math Kernel Libray (MKL)<a class="headerlink" href="#benchmarking-intel-math-kernel-libray-mkl" title="Permalink to this headline">¶</a></h2>
<div class="section" id="introduction">
<h3>1.1 Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h3>
<p>Intel® Math Kernel Library provides performance improvement of math functions, e.g. GEMM, when running with Intel processors. To compare with Xilinx’s XFBLAS library, you can use our run-script (run_gemm_mkl.sh) to generate the data and performance benchmark.</p>
</div>
<div class="section" id="benchmarking-steps">
<span id="mkl-benchmark"></span><h3>1.2 Benchmarking Steps<a class="headerlink" href="#benchmarking-steps" title="Permalink to this headline">¶</a></h3>
<div class="section" id="access-nimbix-cloud">
<h4>1.2.1 Access Nimbix cloud<a class="headerlink" href="#access-nimbix-cloud" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>Follow the user guide <a class="reference external" href="https://www.xilinx.com/xilinxtraining/assessments/portal/alveo/intro_nimbix_cloud/story_html5.html">Vitis On Nimbix</a> to login to your Nimbix account</p></li>
<li><p>Launch application “Xilinx Vitis Unified Software Platform 2019.2” and select “Desktop Mode with FPGA”</p></li>
<li><p>Choose machine type “16 core, 128 GB RAM, Xilinx Alveo U250 FPGA (nx6u_xdma_201830_2_2_3)”</p></li>
<li><p>Copy the L3/bencharks/gemm directory to the Nimbix machine, and navigate to the gemm/gemm_mkl directory</p></li>
<li><p>Follow the steps below to run Intel® MKL GEMM APIsbenchmarks.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>FPGA is not required in Intel® Math Kernel Library but will be used in Xilinx’s XFBLAS library.</p>
</div>
</div>
<div class="section" id="install-intel-mk-library">
<h4>1.2.2 Install Intel® MK library<a class="headerlink" href="#install-intel-mk-library" title="Permalink to this headline">¶</a></h4>
<p>To install MKL on Nimbix, please download the full installation package for MKL2020 from <a class="reference external" href="https://software.intel.com/en-us/mkl/choose-download/linux">Intel® MKL Webste</a>. You need to register for downloading the package. After you have downloaded the package, please unzip it and navigate to the directory includeing “install.sh”. Please enter the following command to install the MKL package.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo ./install.sh
</pre></div>
</div>
</div>
<div class="section" id="set-up-mkl-environment-variables">
<h4>1.2.3 Set up MKL environment variables<a class="headerlink" href="#set-up-mkl-environment-variables" title="Permalink to this headline">¶</a></h4>
<p><strong>Intel® MKL</strong>: Assume you have installed Intel® MKL, run the appropriate script to set up the environment variables (such as $MKLROOT).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">source</span> &lt;INTEL_MKL_INSTALL_DIR&gt;/bin/mklvars.sh intel64
</pre></div>
</div>
</div>
<div class="section" id="install-numactl">
<h4>1.2.4 Install numactl<a class="headerlink" href="#install-numactl" title="Permalink to this headline">¶</a></h4>
<p><strong>NUMACTL</strong>: The linux operating system provides a function, called numactl, that allows the control of scheduling or memory placement policy, which is essential to run parallel programs.</p>
<p>For Ubuntu (you only need to do it once),</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt-get install numactl
</pre></div>
</div>
</div>
<div class="section" id="run-mkl-benchmarking-script">
<h4>1.2.5 Run MKL benchmarking script<a class="headerlink" href="#run-mkl-benchmarking-script" title="Permalink to this headline">¶</a></h4>
<p>The run-script runs the GEMM benchmark with a number of threads, data type, and work mode. Then, it will explore the GEMM’s matrix size from 256 to 16384.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./run_gemm_mkl.sh &lt;thread#&gt; &lt;data_type&gt; &lt;mode&gt;
</pre></div>
</div>
<p class="rubric">where:</p>
<ul class="simple">
<li><p>thread#: Number of threads to run, e.g. 1, 2, 4, 8, 16, etc.</p></li>
<li><p>data_type: Either <strong>float</strong> or <strong>double</strong>.</p></li>
<li><p>mode: <strong>g</strong> for generating the data, <strong>b</strong> for benchmarking the performance, and <strong>a</strong> for both workloads.</p></li>
</ul>
</div>
</div>
<div class="section" id="performance-result-on-nimbix-cloud">
<h3>1.3 Performance Result on Nimbix Cloud<a class="headerlink" href="#performance-result-on-nimbix-cloud" title="Permalink to this headline">¶</a></h3>
<p class="rubric">Configuration:</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>cpu_model</p></td>
<td><p>Intel(R) Xeon(R) CPU E5-2640 v3 &#64; 2.60GHz</p></td>
</tr>
<tr class="row-even"><td><p>thread#</p></td>
<td><p>16</p></td>
</tr>
<tr class="row-odd"><td><p>data_type</p></td>
<td><p>float</p></td>
</tr>
<tr class="row-even"><td><p>benchmark command</p></td>
<td><p>./run_gemm_mkl.sh 16 float a</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Performance Result (nonCaching):</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 38%" />
<col style="width: 13%" />
<col style="width: 15%" />
<col style="width: 13%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Square Matrix Size</p></th>
<th class="head"><p>matrix paris running simultaneously</p></th>
<th class="head"><p>Cache (Y/N)</p></th>
<th class="head"><p>API time(ms)</p></th>
<th class="head"><p>TFlops/sec</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>256</p></td>
<td><p>1</p></td>
<td><p>N</p></td>
<td><p>29.700</p></td>
<td><p>0.001</p></td>
</tr>
<tr class="row-odd"><td><p>512</p></td>
<td><p>1</p></td>
<td><p>N</p></td>
<td><p>11.799</p></td>
<td><p>0.023</p></td>
</tr>
<tr class="row-even"><td><p>1024</p></td>
<td><p>1</p></td>
<td><p>N</p></td>
<td><p>16.591</p></td>
<td><p>0.129</p></td>
</tr>
<tr class="row-odd"><td><p>2048</p></td>
<td><p>1</p></td>
<td><p>N</p></td>
<td><p>41.319</p></td>
<td><p>0.416</p></td>
</tr>
<tr class="row-even"><td><p>4096</p></td>
<td><p>1</p></td>
<td><p>N</p></td>
<td><p>172.369</p></td>
<td><p>0.797</p></td>
</tr>
<tr class="row-odd"><td><p>8192</p></td>
<td><p>1</p></td>
<td><p>N</p></td>
<td><p>1073.250</p></td>
<td><p>1.024</p></td>
</tr>
<tr class="row-even"><td><p>16384</p></td>
<td><p>1</p></td>
<td><p>N</p></td>
<td><p>9060.830</p></td>
<td><p>0.971</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Performance Result (Caching):</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 38%" />
<col style="width: 13%" />
<col style="width: 15%" />
<col style="width: 13%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Square Matrix Size</p></th>
<th class="head"><p>matrix paris running simultaneously</p></th>
<th class="head"><p>Cache (Y/N)</p></th>
<th class="head"><p>API time(ms)</p></th>
<th class="head"><p>TFlops/sec</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>256</p></td>
<td><p>1</p></td>
<td><p>Y</p></td>
<td><p>1.380</p></td>
<td><p>0.024</p></td>
</tr>
<tr class="row-odd"><td><p>512</p></td>
<td><p>1</p></td>
<td><p>Y</p></td>
<td><p>4.038</p></td>
<td><p>0.066</p></td>
</tr>
<tr class="row-even"><td><p>1024</p></td>
<td><p>1</p></td>
<td><p>Y</p></td>
<td><p>4.383</p></td>
<td><p>0.490</p></td>
</tr>
<tr class="row-odd"><td><p>2048</p></td>
<td><p>1</p></td>
<td><p>Y</p></td>
<td><p>21.282</p></td>
<td><p>0.807</p></td>
</tr>
<tr class="row-even"><td><p>4096</p></td>
<td><p>1</p></td>
<td><p>Y</p></td>
<td><p>149.755</p></td>
<td><p>0.918</p></td>
</tr>
<tr class="row-odd"><td><p>8192</p></td>
<td><p>1</p></td>
<td><p>Y</p></td>
<td><p>1042.860</p></td>
<td><p>1.054</p></td>
</tr>
<tr class="row-even"><td><p>16384</p></td>
<td><p>1</p></td>
<td><p>Y</p></td>
<td><p>9045.700</p></td>
<td><p>0.972</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="reference">
<h3>1.4 Reference<a class="headerlink" href="#reference" title="Permalink to this headline">¶</a></h3>
<p>[1] <a class="reference external" href="https://software.intel.com/en-us/articles/improving-performance-of-math-functions-with-intel-math-kernel-library">Improving Performance of Math Functions with Intel® Math Kernel Library</a></p>
<p>[2] <a class="reference external" href="https://software.intel.com/en-us/articles/benchmarking-gemm-with-intel-mkl-and-blis-on-intel-processors">Benchmarking GEMM on Intel® Architecture Processors</a></p>
</div>
</div>
<div class="section" id="benchmarking-xfblasgemm-xilinx-s-xfblas-library">
<h2>2. Benchmarking xfblasGemm - Xilinx’s XFBLAS library<a class="headerlink" href="#benchmarking-xfblasgemm-xilinx-s-xfblas-library" title="Permalink to this headline">¶</a></h2>
<p>Before benchmarking xfblashGemm, please download <a class="reference external" href="https://www.xilinx.com/bin/public/openDownload?filename=vitis_BLAS_library_r1.0_xclbin.tar">xf blas xclbin files</a>, unzip the file with “tar -xvzf” command, and copy the folder u250_xdma_201830_2 to directory L3/overlay.</p>
<div class="section" id="id1">
<h3>2.1 Benchmarking Steps<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<div class="section" id="generate-test-inputs-and-golden-reference">
<h4>2.1.1 Generate test inputs and golden reference<a class="headerlink" href="#generate-test-inputs-and-golden-reference" title="Permalink to this headline">¶</a></h4>
<p>Follow the <a class="reference internal" href="#mkl-benchmark">MKL_benchmark</a> steps to run MKL benchmarks, for float and short data type to generate test inputs and golden reference. To generate test inputs and golden reference for float data type, please run the following command.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./run_gemm_mkl.sh <span class="m">16</span> float a
</pre></div>
</div>
<p>To generate test inputs and golden reference for short data type, please run the following command.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./run_gemm_mkl.sh <span class="m">16</span> short a
</pre></div>
</div>
</div>
<div class="section" id="build-benchmark-application">
<h4>2.1.2 Build benchmark application<a class="headerlink" href="#build-benchmark-application" title="Permalink to this headline">¶</a></h4>
<p>Before benchmark the xfblasGemm, please build the host executable for the corresponding .xclbin files via following script</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./build_gemm_bench.sh confi_info_file
</pre></div>
</div>
</div>
<div class="section" id="run-benchmark">
<h4>2.1.3 Run benchmark<a class="headerlink" href="#run-benchmark" title="Permalink to this headline">¶</a></h4>
<p>The run-script runs the GEMM benchmark with xclbin and cfg files. It will explore the GEMM’s matrix size from 256 to 8192.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./run_gemm_benchmark.sh xclbin_file config_info_file
</pre></div>
</div>
<p class="rubric">where:</p>
<ul class="simple">
<li><p><strong>xclbin_fuke</strong> refers to the gemx.xclbin file, including the path.</p></li>
<li><p><strong>config_info_file</strong> refers to config_info.dat file, including the path.</p></li>
</ul>
</div>
</div>
<div class="section" id="performance-results-on-nimbix-cloud">
<h3>2.2 Performance Results on Nimbix Cloud<a class="headerlink" href="#performance-results-on-nimbix-cloud" title="Permalink to this headline">¶</a></h3>
<p class="rubric">Configuration:</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>fpga_model</p></td>
<td><p>Xilinx Alveo U250 FPGA (nx6u_xdma_201830_2_2_3)</p></td>
</tr>
<tr class="row-even"><td><p>Frequency</p></td>
<td><p>150 Mhz</p></td>
</tr>
<tr class="row-odd"><td><p>data_type</p></td>
<td><p>float</p></td>
</tr>
<tr class="row-even"><td><p>build command</p></td>
<td><p>./build_gemm_bench.sh ../../overlay/u250_xdma_201830_2/gemm_float_4kernel/config_info.dat</p></td>
</tr>
<tr class="row-odd"><td><p>benchmark command</p></td>
<td><p>./run_gemm_bench.sh ../../overlay/u250_xdma_201830_2/gemm_float_4kernel/gemx.xclbin ../../overlay/u250_xdma_201830_2/gemm_float_4kernel/confi_info.dat</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Performance Result:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 44%" />
<col style="width: 17%" />
<col style="width: 15%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Square Matrix Size</p></th>
<th class="head"><p>matrix paris running simultaneously</p></th>
<th class="head"><p>API time(ms)</p></th>
<th class="head"><p>TFlops/sec</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>256</p></td>
<td><p>4</p></td>
<td><p>2.715</p></td>
<td><p>0.049</p></td>
</tr>
<tr class="row-odd"><td><p>512</p></td>
<td><p>4</p></td>
<td><p>7.223</p></td>
<td><p>0.149</p></td>
</tr>
<tr class="row-even"><td><p>1024</p></td>
<td><p>4</p></td>
<td><p>40.020</p></td>
<td><p>0.214</p></td>
</tr>
<tr class="row-odd"><td><p>2048</p></td>
<td><p>4</p></td>
<td><p>292.971</p></td>
<td><p>0.234</p></td>
</tr>
<tr class="row-even"><td><p>4096</p></td>
<td><p>4</p></td>
<td><p>1990.240</p></td>
<td><p>0.276</p></td>
</tr>
<tr class="row-odd"><td><p>8192</p></td>
<td><p>4</p></td>
<td><p>15317.589</p></td>
<td><p>0.287</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Configuration:</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>fpga_model</p></td>
<td><p>Xilinx Alveo U250 FPGA (nx6u_xdma_201830_2_2_3)</p></td>
</tr>
<tr class="row-even"><td><p>Frequency</p></td>
<td><p>231 Mhz</p></td>
</tr>
<tr class="row-odd"><td><p>data_type</p></td>
<td><p>short</p></td>
</tr>
<tr class="row-even"><td><p>build command</p></td>
<td><p>./build_gemm_bench.sh ../../overlay/u250_xdma_201830_2/gemm_float_4kernel/config_info.dat</p></td>
</tr>
<tr class="row-odd"><td><p>benchmark command</p></td>
<td><p>./run_gemm_bench.sh ../../overlay/u250_xdma_201830_2/gemm_float_4kernel/gemx.xclbin ../../overlay/u250_xdma_201830_2/gemm_float_4kernel/confi_info.dat</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Performance Result:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 44%" />
<col style="width: 17%" />
<col style="width: 15%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Square Matrix Size</p></th>
<th class="head"><p>matrix paris running simultaneously</p></th>
<th class="head"><p>API time(ms)</p></th>
<th class="head"><p>Tops/sec</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>256</p></td>
<td><p>4</p></td>
<td><p>1.436</p></td>
<td><p>0.093</p></td>
</tr>
<tr class="row-odd"><td><p>512</p></td>
<td><p>4</p></td>
<td><p>2.589</p></td>
<td><p>0.415</p></td>
</tr>
<tr class="row-even"><td><p>1024</p></td>
<td><p>4</p></td>
<td><p>13.885</p></td>
<td><p>0.619</p></td>
</tr>
<tr class="row-odd"><td><p>2048</p></td>
<td><p>4</p></td>
<td><p>61.879</p></td>
<td><p>1.111</p></td>
</tr>
<tr class="row-even"><td><p>4096</p></td>
<td><p>4</p></td>
<td><p>416.086</p></td>
<td><p>1.321</p></td>
</tr>
<tr class="row-odd"><td><p>8192</p></td>
<td><p>4</p></td>
<td><p>3443.76</p></td>
<td><p>1.277</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="L3_test.html" class="btn btn-neutral float-right" title="L3 API test" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="L3_benchmark.html" class="btn btn-neutral float-left" title="L3 API benchmark" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo" class="copyright">
    <p>
        
        &copy; Copyright 2019, Xilinx Inc.

    </p>
  </div>
<!--
    
    
      Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 
-->
</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>