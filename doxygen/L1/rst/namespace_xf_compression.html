

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="keywords" content="Vitis, library, Database, Quantitative Finance, Vision, Data Compression, Security, Solver, BLAS, Hardware, xfOpenCV, xfdatabase, xffintech, xfcompression, xfsecurity, xfsolver, xfblas, xfhardware"/>
<meta name="description" content="Vitis software development platform includes an extensive set of open-source, performance-optimized libraries that offer out-of-the-box acceleration with minimal to zero-code changes to your existing applications, without the need to reimplement your algorithms from scratch to harness the benefits of Xilinx adaptive compute."/>
<meta name="xlnxdocumentclass" content="Document"> 
<meta name="xlnxdocumenttypes" content="Tutorials"> 
<!-- Header information provided by Emily-->
    <meta name="Language" content="en">
    <meta name="Location" content="us">
    <link rel="icon" type="image/vnd.microsoft.icon" href="https://www.xilinx.com/etc.clientlibs/site/clientlibs/xilinx/all/resources/favicon.ico">
    <link rel="shortcut icon" type="image/vnd.microsoft.icon" href="https://www.xilinx.com/etc.clientlibs/site/clientlibs/xilinx/all/resources/favicon.ico">
  
  <title>namespace compression &mdash; Vitis Data Compression Library v2019.2 documentation</title>
  
<!-- Header information provided by Emily-->
    <meta name="apple-itunes-app" content="app-id=1063287962">
    <meta name="google-play-app" content="app-id=com.marketing.xilinxgo">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <script src="https://kit.fontawesome.com/d3dd8c60ed.js"></script>
    
    <link rel="stylesheet" href="https://www.xilinx.com/etc.clientlibs/clientlibs/granite/jquery-ui.min.css" type="text/css">
    <link rel="stylesheet" href="https://www.xilinx.com/etc.clientlibs/site/clientlibs/xilinx/header-footer.min.css" type="text/css">
    <link rel="stylesheet" href="https://www.xilinx.com/etc.clientlibs/site/clientlibs/xilinx/all.min.css" type="text/css">
    
    <script type="text/javascript" src="https://www.xilinx.com/etc.clientlibs/clientlibs/granite/jquery.min.js"></script>
    <script type="text/javascript" src="https://www.xilinx.com/etc.clientlibs/clientlibs/granite/jquery-ui.min.js"></script>
    <script type="text/javascript" src="https://www.xilinx.com/etc.clientlibs/site/clientlibs/xilinx/header-footer.min.js"></script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet" type="text/css">
  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav">
<div class="xilinx-bs3">
    <noindex>
        <header data-component="header">
            <nav class="navbar navbar-default">
                <div class="container main-nav">
                    <div class="row">
                        <div class="col-xs-5 col-sm-2 logo-column">
                            <div class="logo">
                                <a href="https://www.xilinx.com/">
                                    <img src="https://www.xilinx.com/etc.clientlibs/site/clientlibs/xilinx/all/resources/imgs/header/xilinx-header-logo.svg" title="Xilinx Inc" />
                                </a>
                            </div>
                        </div>
                        <div class="col-xs-12 col-sm-8 navbar-column">
                            <div class="navbar navbar-collapse collapse" id="xilinx-main-menu">
                                <ul class="nav navbar-nav nav-justified">
                                    <li class="accordion-toggle-icons" data-component="toggle-dropdown">
                                        <a href="https://developer.xilinx.com/">
                                            Developers
                                        </a>
                                    </li>
                                    <li class="accordion-toggle-icons" data-component="toggle-dropdown">
                                        <a href="https://www.xilinx.com/support.html">
                                            Support
                                        </a>
                                    </li>
                                    <li class="accordion-toggle-icons" data-component="toggle-dropdown">
                                        <a href="https://forums.xilinx.com/">
                                            Forums
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="mini-nav col-sm-2">
                            <button type="button" data-function="xilinx-mobile-menu" id="nav-toggle" class="navbar-toggle collapsed visible-xs-block" aria-expanded="false">
                                <span></span>
                                <span></span>
                                <span></span>
                                <span></span>
                            </button>
                        </div>
                    </div>
                </div>
            </nav>
        </header>
    </noindex>
</div>
   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home" alt="Documentation Home"> Vitis Data Compression Library
          

          
          </a>

          
            
            
              <div class="version">
                2019.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Library Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../source/overview.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../source/overview.html#license">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../source/overview.html#trademark-notice">Trademark Notice</a></li>
</ul>
<p class="caption"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../source/usecase.html">Typical Use Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../source/L1/L1.html">L1 Module User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../source/L2/L2.html">L2 Kernel User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../source/L3/L3.html">L3 Overlay User Guide</a></li>
</ul>
<p class="caption"><span class="caption-text">Benchmark Results</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../source/results.html">Benchmark Results</a></li>
</ul>

            
			<p class="caption"><span class="caption-text">This Page</span></p>
				<ul class="current">
				  <li class="toctree-l1"><a href="../../../_sources/doxygen/L1/rst/namespace_xf_compression.rst.txt"
						rel="nofollow">Show Source</a></li>
					<li class="toctree-l1"><a href="https://github.com/Xilinx/xf_compression/blob/master/docs/source/overview.rst/doxygen/L1/rst/namespace_xf_compression.rst"
						   rel="nofollow">View on GitHub</a></li>						
				</ul>
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Vitis Data Compression Library</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>namespace compression</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/doxygen/L1/rst/namespace_xf_compression.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="namespace-compression">
<span id="cid-xf-compression"></span><span id="doxid-namespacexf-1-1compression"></span><span id="index-0"></span><h1>namespace compression<a class="headerlink" href="#namespace-compression" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<pre class="highlight overview-code-block literal-block" id="cid-xf-compression-s2mmdecompress"><span id="doxid-namespacexf-1-1compression-1a4afc3c9d6ec928d974b3fd06874ed178"></span><span id="cid-xf-compression-s2mmcompress"></span><span id="doxid-namespacexf-1-1compression-1a92c7f1dabb7a33d211052bea7f2354b7"></span><span id="cid-xf-compression-s2mmcompressfreq"></span><span id="doxid-namespacexf-1-1compression-1a81d659dac4d01eab0bf4d2a5ca6a6eba"></span><span id="cid-xf-compression-upsizersizestream"></span><span id="doxid-namespacexf-1-1compression-1a37229cf7278a6a0a8f70632dc89ca045"></span><span id="cid-xf-compression-mm2sfreq"></span><span id="doxid-namespacexf-1-1compression-1ab3aa4c7f72a209cf2ba9b1f5f9c615a0"></span><span id="cid-xf-compression-gzmm2s"></span><span id="doxid-namespacexf-1-1compression-1aeeb97229200760bf2bdab6197afbe5ed"></span><span id="cid-xf-compression-s2mmeosnbfreq"></span><span id="doxid-namespacexf-1-1compression-1a60443e8a36e5e2c5c95995e9a387dbcd"></span><span id="cid-xf-compression-lzdecompresszlib"></span><span id="doxid-namespacexf-1-1compression-1a20510d52a307b99e3b8b57086b6e29ea"></span><span id="cid-xf-compression-lzdecompresszlibeos-new"></span><span id="doxid-namespacexf-1-1compression-1ad8298e06f1660a038b5961b54daa9a56"></span><span id="cid-xf-compression-lzdecompresszlibeos"></span><span id="doxid-namespacexf-1-1compression-1a75d9bdfeaf9160fe3824d20fce59b707"></span><span id="cid-xf-compression-code-generator-array"></span><span id="doxid-namespacexf-1-1compression-1a6dce429f1af2d05c56c54927179bff7f"></span><span id="cid-xf-compression-bitunpacker"></span><span id="doxid-namespacexf-1-1compression-1a44ffc3ae77389e0caaf1cb862b173609"></span><span id="cid-xf-compression-constructtree"></span><span id="doxid-namespacexf-1-1compression-1a8f83fe32d50ba9286a2771ff1f7a86b8"></span><span id="cid-xf-compression-reduceheap"></span><span id="doxid-namespacexf-1-1compression-1a8cf8a4b8cce6801d08b3f4377fcae520"></span><span id="cid-xf-compression-reversebits"></span><span id="doxid-namespacexf-1-1compression-1a7bb2edbc1993143e0c5569b7f5c67474"></span><span id="cid-xf-compression-c-maxcodesize"></span><span id="doxid-namespacexf-1-1compression-1a9a710f6021ff8fcdfb109306161d635e"></span><span id="cid-xf-compression-c-bltreesize"></span><span id="doxid-namespacexf-1-1compression-1abee5cdb5326bba1c4643ec20c5560bb4"></span><span id="cid-xf-compression-c-dtreesize"></span><span id="doxid-namespacexf-1-1compression-1a63e73826ad983458349297e4b1e70db8"></span><span id="cid-xf-compression-c-ltreesize"></span><span id="doxid-namespacexf-1-1compression-1ae3b31fa1202254120d2c391b1df0692c"></span><span id="cid-xf-compression-bsize-ncomp-4096"></span><span id="doxid-namespacexf-1-1compression-1a728e3f1706dc7c65bf281bd7f1d325cb"></span><span id="cid-xf-compression-bsize-ncomp-1024"></span><span id="doxid-namespacexf-1-1compression-1a872d92fa2a3c0186043d101aba66dbf4"></span><span id="cid-xf-compression-bsize-ncomp-256"></span><span id="doxid-namespacexf-1-1compression-1ad22ea0f57cf4165bfb8acfe0f8e0178e"></span><span id="cid-xf-compression-max-bsize-4096kb"></span><span id="doxid-namespacexf-1-1compression-1aa301aad91608f486bab1c36f785e2b49"></span><span id="cid-xf-compression-max-bsize-1024kb"></span><span id="doxid-namespacexf-1-1compression-1aebedc340478e133df152f1ce310ae5d3"></span><span id="cid-xf-compression-max-bsize-256kb"></span><span id="doxid-namespacexf-1-1compression-1a3c65435c80825f95f61e45366a5f95e3"></span><span id="cid-xf-compression-bsize-std-4096kb"></span><span id="doxid-namespacexf-1-1compression-1a18e275d8e415feedd8daf05a8b9045dd"></span><span id="cid-xf-compression-bsize-std-1024kb"></span><span id="doxid-namespacexf-1-1compression-1abbd4493ade4021944af752fbf4c91983"></span><span id="cid-xf-compression-bsize-std-256kb"></span><span id="doxid-namespacexf-1-1compression-1a4ab4a06d9431beab6b4626be715fc6fc"></span><span id="cid-xf-compression-c-sizestreamdepth"></span><span id="doxid-namespacexf-1-1compression-1a892004a2d8e3a8838264e1ffeefd5d48"></span><span id="cid-xf-compression-c-gmemburstsize"></span><span id="doxid-namespacexf-1-1compression-1a76067a65140dee8a0b343c0c4a038328"></span><span id="cid-xf-compression-kgmemburstsize"></span><span id="doxid-namespacexf-1-1compression-1a7891a83be06e71b8f9d20f835b36b0e0"></span><span id="cid-xf-compression-kgmemdwidth"></span><span id="doxid-namespacexf-1-1compression-1a06e4c8be7794b2cad357e9eda2cfca68"></span><span id="cid-xf-compression-snappy-compressd-dt"></span><span id="doxid-namespacexf-1-1compression-1ab4e55f033c3c15aff4ddf6733ab52059"></span><span id="cid-xf-compression-lz4-compressd-dt"></span><span id="doxid-namespacexf-1-1compression-1a5a144d8f44cabd29a372b35ca034e306"></span><span id="cid-xf-compression-streamdt"></span><span id="doxid-namespacexf-1-1compression-1a8ca006fee7f286d35d08e313f7c8e4fc"></span><span id="cid-xf-compression-compressd-dt"></span><span id="doxid-namespacexf-1-1compression-1a9d41d94c1981c79849a420c8a6a75aa4"></span><span id="cid-xf-compression-uintmemwidth-t"></span><span id="doxid-namespacexf-1-1compression-1a499ffa6d30e499c112e1ff0d30f74217"></span><span id="cid-xf-compression-kstream512b-t"></span><span id="doxid-namespacexf-1-1compression-1a88c30bba11f925d9c5eec323e563a1e0"></span><span id="cid-xf-compression-kstream256b-t"></span><span id="doxid-namespacexf-1-1compression-1ab132af7a8fcfa2f2c71095933111c168"></span><span id="cid-xf-compression-kstream128b-t"></span><span id="doxid-namespacexf-1-1compression-1a29b1f7c0f966029cb6f85c06e67066c1"></span><span id="cid-xf-compression-kstream64b-t"></span><span id="doxid-namespacexf-1-1compression-1adbf8a53f65fef42f37104d8901249f2e"></span><span id="cid-xf-compression-kstream32b-t"></span><span id="doxid-namespacexf-1-1compression-1a40438acf043b65ba3fd49e506e95ab5c"></span><span id="cid-xf-compression-kstream16b-t"></span><span id="doxid-namespacexf-1-1compression-1a1fe2ca151b9dc82cc97df85a4fc2f457"></span><span id="cid-xf-compression-hstream512b-t"></span><span id="doxid-namespacexf-1-1compression-1a3f3ac971a14799f4228ca9684f25f488"></span><span id="cid-xf-compression-hstream256b-t"></span><span id="doxid-namespacexf-1-1compression-1a84f1e03d7a8f049d0112baf9bef48dad"></span><span id="cid-xf-compression-hstream128b-t"></span><span id="doxid-namespacexf-1-1compression-1af5b73efc1bfcd03caea709e4a26cf7fd"></span><span id="cid-xf-compression-hstream64b-t"></span><span id="doxid-namespacexf-1-1compression-1a038c2e70dba826fedd2c886c33029364"></span><span id="cid-xf-compression-hstream32b-t"></span><span id="doxid-namespacexf-1-1compression-1a59808ee7bb972242ab2bdc922d77ce7a"></span><span id="cid-xf-compression-hstream16b-t"></span><span id="doxid-namespacexf-1-1compression-1a63dcf47b0c08067039934059ab21e804"></span><span></span><span class="c1">// typedefs</span>

<span class="k">typedef</span> <span class="n">qdma_axis</span> <span class="o">&lt;</span><span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="o">&gt;</span> <a class="reference internal" href="#doxid-namespacexf-1-1compression-1a5e9b06498ea31587312aebc3ebe8dbce"><span class="std std-ref">hStream8b_t</span></a><span></span>
<span class="k">typedef</span> <span class="n">qdma_axis</span> <span class="o">&lt;</span><span class="mi">16</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="o">&gt;</span> <span class="n">hStream16b_t</span>
<span class="k">typedef</span> <span class="n">qdma_axis</span> <span class="o">&lt;</span><span class="mi">32</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="o">&gt;</span> <span class="n">hStream32b_t</span>
<span class="k">typedef</span> <span class="n">qdma_axis</span> <span class="o">&lt;</span><span class="mi">64</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="o">&gt;</span> <span class="n">hStream64b_t</span>
<span class="k">typedef</span> <span class="n">qdma_axis</span> <span class="o">&lt;</span><span class="mi">128</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="o">&gt;</span> <span class="n">hStream128b_t</span>
<span class="k">typedef</span> <span class="n">qdma_axis</span> <span class="o">&lt;</span><span class="mi">256</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="o">&gt;</span> <span class="n">hStream256b_t</span>
<span class="k">typedef</span> <span class="n">qdma_axis</span> <span class="o">&lt;</span><span class="mi">512</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="o">&gt;</span> <span class="n">hStream512b_t</span>
<span class="k">typedef</span> <span class="n">ap_axiu</span> <span class="o">&lt;</span><span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="o">&gt;</span> <a class="reference internal" href="#doxid-namespacexf-1-1compression-1aa3f24689e5c4b59c4d3dc4b3427fbce4"><span class="std std-ref">kStream8b_t</span></a><span></span>
<span class="k">typedef</span> <span class="n">ap_axiu</span> <span class="o">&lt;</span><span class="mi">16</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="o">&gt;</span> <span class="n">kStream16b_t</span>
<span class="k">typedef</span> <span class="n">ap_axiu</span> <span class="o">&lt;</span><span class="mi">32</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="o">&gt;</span> <span class="n">kStream32b_t</span>
<span class="k">typedef</span> <span class="n">ap_axiu</span> <span class="o">&lt;</span><span class="mi">64</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="o">&gt;</span> <span class="n">kStream64b_t</span>
<span class="k">typedef</span> <span class="n">ap_axiu</span> <span class="o">&lt;</span><span class="mi">128</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="o">&gt;</span> <span class="n">kStream128b_t</span>
<span class="k">typedef</span> <span class="n">ap_axiu</span> <span class="o">&lt;</span><span class="mi">256</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="o">&gt;</span> <span class="n">kStream256b_t</span>
<span class="k">typedef</span> <span class="n">ap_axiu</span> <span class="o">&lt;</span><span class="mi">512</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="o">&gt;</span> <span class="n">kStream512b_t</span>
<span class="k">typedef</span> <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">kGMemDWidth</span><span class="o">&gt;</span> <span class="n">uintMemWidth_t</span>
<span class="k">typedef</span> <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">32</span><span class="o">&gt;</span> <span class="n">compressd_dt</span>
<span class="k">typedef</span> <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">&gt;</span> <span class="n">streamDt</span>
<span class="k">typedef</span> <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;</span> <span class="n">lz4_compressd_dt</span>
<span class="k">typedef</span> <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;</span> <span class="n">snappy_compressd_dt</span>

<span class="c1">// global variables</span>

<span class="k">const</span> <span class="kt">int</span> <span class="n">kGMemDWidth</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">kGMemBurstSize</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">c_gmemBurstSize</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">c_sizeStreamDepth</span>
<span class="k">const</span> <span class="k">auto</span> <a class="reference internal" href="#doxid-namespacexf-1-1compression-1a54fef513f3238f9e8041389c73ed24bc"><span class="std std-ref">BSIZE_STD_64KB</span></a><span></span>
<span class="k">const</span> <span class="k">auto</span> <span class="n">BSIZE_STD_256KB</span>
<span class="k">const</span> <span class="k">auto</span> <span class="n">BSIZE_STD_1024KB</span>
<span class="k">const</span> <span class="k">auto</span> <span class="n">BSIZE_STD_4096KB</span>
<span class="k">const</span> <span class="k">auto</span> <a class="reference internal" href="#doxid-namespacexf-1-1compression-1a1139a8f1202693d50eca2be54f2869a3"><span class="std std-ref">MAX_BSIZE_64KB</span></a><span></span>
<span class="k">const</span> <span class="k">auto</span> <span class="n">MAX_BSIZE_256KB</span>
<span class="k">const</span> <span class="k">auto</span> <span class="n">MAX_BSIZE_1024KB</span>
<span class="k">const</span> <span class="k">auto</span> <span class="n">MAX_BSIZE_4096KB</span>
<span class="k">const</span> <span class="kt">int</span> <a class="reference internal" href="#doxid-namespacexf-1-1compression-1a5a82fcc6c56b2ffdb1ed8d37eece8d34"><span class="std std-ref">NO_COMPRESS_BIT</span></a><span></span>
<span class="k">const</span> <span class="k">auto</span> <a class="reference internal" href="#doxid-namespacexf-1-1compression-1a83038126f4933bc589f8672724cbffcc"><span class="std std-ref">BSIZE_NCOMP_64</span></a><span></span>
<span class="k">const</span> <span class="k">auto</span> <span class="n">BSIZE_NCOMP_256</span>
<span class="k">const</span> <span class="k">auto</span> <span class="n">BSIZE_NCOMP_1024</span>
<span class="k">const</span> <span class="k">auto</span> <span class="n">BSIZE_NCOMP_4096</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">c_lTreeSize</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">c_dTreeSize</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">c_bLTreeSize</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">c_maxCodeSize</span></pre>
<div class="section" id="typedefs">
<h2>Typedefs<a class="headerlink" href="#typedefs" title="Permalink to this headline">¶</a></h2>
<pre class="highlight title-code-block literal-block" id="cid-xf-compression-hstream8b-t"><span id="doxid-namespacexf-1-1compression-1a5e9b06498ea31587312aebc3ebe8dbce"></span><span></span><span class="k">typedef</span> <span class="n">qdma_axis</span> <span class="o">&lt;</span><span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="o">&gt;</span> <span class="n">hStream8b_t</span></pre>
<p>typedef hStream&lt;bit_width&gt;_t User defined types for data streaming between host and kernel.</p>
<pre class="highlight title-code-block literal-block" id="cid-xf-compression-kstream8b-t"><span id="doxid-namespacexf-1-1compression-1aa3f24689e5c4b59c4d3dc4b3427fbce4"></span><span></span><span class="k">typedef</span> <span class="n">ap_axiu</span> <span class="o">&lt;</span><span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="o">&gt;</span> <span class="n">kStream8b_t</span></pre>
<p>typedef kStream&lt;bit_width&gt;_t User defined types for data streaming between kernels.</p>
</div>
<div class="section" id="global-variables">
<h2>Global Variables<a class="headerlink" href="#global-variables" title="Permalink to this headline">¶</a></h2>
<pre class="highlight title-code-block literal-block" id="cid-xf-compression-bsize-std-64kb"><span id="doxid-namespacexf-1-1compression-1a54fef513f3238f9e8041389c73ed24bc"></span><span></span><span class="k">const</span> <span class="k">auto</span> <span class="n">BSIZE_STD_64KB</span></pre>
<p>Below are the codes as per LZ4 standard for various maximum block sizes supported.</p>
<pre class="highlight title-code-block literal-block" id="cid-xf-compression-max-bsize-64kb"><span id="doxid-namespacexf-1-1compression-1a1139a8f1202693d50eca2be54f2869a3"></span><span></span><span class="k">const</span> <span class="k">auto</span> <span class="n">MAX_BSIZE_64KB</span></pre>
<p>Maximum block sizes supported by LZ4</p>
<pre class="highlight title-code-block literal-block" id="cid-xf-compression-no-compress-bit"><span id="doxid-namespacexf-1-1compression-1a5a82fcc6c56b2ffdb1ed8d37eece8d34"></span><span></span><span class="k">const</span> <span class="kt">int</span> <span class="n">NO_COMPRESS_BIT</span></pre>
<p>This value is used to set uncompressed block size value. 4th byte is always set to below and placed as uncompressed byte</p>
<pre class="highlight title-code-block literal-block" id="cid-xf-compression-bsize-ncomp-64"><span id="doxid-namespacexf-1-1compression-1a83038126f4933bc589f8672724cbffcc"></span><span></span><span class="k">const</span> <span class="k">auto</span> <span class="n">BSIZE_NCOMP_64</span></pre>
<p>In case of uncompressed block Values below are used to set 3rd byte to following values w.r.t various maximum block sizes supported by standard</p>
</div>
<div class="section" id="axis2hlsstreamfixedsize">
<span id="cid-xf-compression-axis2hlsstreamfixedsize"></span><span id="doxid-namespacexf-1-1compression-1a5a3a21594ddb4e9a8ca745545fad9008"></span><h2>axis2hlsStreamFixedSize<a class="headerlink" href="#axis2hlsstreamfixedsize" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;axi_stream_utils.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="kt">void</span> <span class="n">axis2hlsStreamFixedSize</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">hStream8b_t</span><span class="o">&gt;&amp;</span> <span class="n">inputAxiStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">streamDt</span><span class="o">&gt;&amp;</span> <span class="n">inputStream</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">inputSize</span>
    <span class="p">)</span></pre>
<p>Read data from axi stream and write to internal hls stream.</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-center">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>inputAxisStream</p></td>
<td><p>incoming axi stream</p></td>
</tr>
<tr class="row-even"><td><p>inputStream</p></td>
<td><p>output hls stream</p></td>
</tr>
<tr class="row-odd"><td><p>inputSize</p></td>
<td><p>size of the data coming from input axi stream</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="hlsstream2axis">
<span id="cid-xf-compression-hlsstream2axis"></span><span id="doxid-namespacexf-1-1compression-1ac004d236d2fa205dcdb32942e3088021"></span><h2>hlsStream2axis<a class="headerlink" href="#hlsstream2axis" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;axi_stream_utils.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="kt">void</span> <span class="n">hlsStream2axis</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">streamDt</span><span class="o">&gt;&amp;</span> <span class="n">outputStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">outStreamEos</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">hStream8b_t</span><span class="o">&gt;&amp;</span> <span class="n">outputAxiStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">uint32_t</span><span class="o">&gt;&amp;</span> <span class="n">outStreamSize</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">hStream32b_t</span><span class="o">&gt;&amp;</span> <span class="n">outAxiStreamSize</span>
    <span class="p">)</span></pre>
<p>Read data from hls stream till the end of stream is indicated and write this data to axi stream. The total size of data is written 32-bit wide axi stream.</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-center">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>outputStream</p></td>
<td><p>internal output hls stream</p></td>
</tr>
<tr class="row-even"><td><p>outStreamEos</p></td>
<td><p>stream to specify the end of stream</p></td>
</tr>
<tr class="row-odd"><td><p>outputAxisStream</p></td>
<td><p>output stream going to axi</p></td>
</tr>
<tr class="row-even"><td><p>outStreamSize</p></td>
<td><p>size of the data coming to output from stream</p></td>
</tr>
<tr class="row-odd"><td><p>outAxiStreamSize</p></td>
<td><p>size of the data to go through output axi stream</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="hlsstream2axistreamfixedsize">
<span id="cid-xf-compression-hlsstream2axistreamfixedsize"></span><span id="doxid-namespacexf-1-1compression-1a19df6322c84b51215524c800f0a2c5a2"></span><h2>hlsStream2axiStreamFixedSize<a class="headerlink" href="#hlsstream2axistreamfixedsize" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;axi_stream_utils.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="kt">void</span> <span class="n">hlsStream2axiStreamFixedSize</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">streamDt</span><span class="o">&gt;&amp;</span> <span class="n">hlsInStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">hStream8b_t</span><span class="o">&gt;&amp;</span> <span class="n">outputAxiStream</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">originalSize</span>
    <span class="p">)</span></pre>
<p>Read data from internal hls stream and write to output axi stream for the given size.</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-center">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>hlsInStream</p></td>
<td><p>internal hls stream</p></td>
</tr>
<tr class="row-even"><td><p>outputAxisStream</p></td>
<td><p>output axi stream</p></td>
</tr>
<tr class="row-odd"><td><p>originalSize</p></td>
<td><p>output data size to be written to output stream</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="axis2hlsstream">
<span id="cid-xf-compression-axis2hlsstream"></span><span id="doxid-namespacexf-1-1compression-1a09c15eac11254675def36b8a4e3d29c6"></span><h2>axis2hlsStream<a class="headerlink" href="#axis2hlsstream" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;axi_stream_utils.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="k">template</span> <span class="o">&lt;</span><span class="kt">uint16_t</span> <span class="n">STREAMDWIDTH</span><span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">axis2hlsStream</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">qdma_axis</span> <span class="o">&lt;</span><span class="n">STREAMDWIDTH</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="o">&gt;&gt;&amp;</span> <span class="n">inAxiStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">STREAMDWIDTH</span><span class="o">&gt;&gt;&amp;</span> <span class="n">outStream</span>
    <span class="p">)</span></pre>
<p>Read N-bit wide data from internal hls streams and write to output axi stream. N is passed as template parameter.</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-center">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>STREAMDWIDTH</p></td>
<td><p>stream data width</p></td>
</tr>
<tr class="row-even"><td><p>inAxiStream</p></td>
<td><p>input kernel axi stream</p></td>
</tr>
<tr class="row-odd"><td><p>outStream</p></td>
<td><p>output hls stream</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="streamdatadm2k">
<span id="cid-xf-compression-streamdatadm2k"></span><span id="doxid-namespacexf-1-1compression-1aab78544adcc142b568ec98bbc5f34c79"></span><h2>streamDataDm2k<a class="headerlink" href="#streamdatadm2k" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;axi_stream_utils.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="k">template</span> <span class="o">&lt;</span><span class="kt">uint16_t</span> <span class="n">STREAMDWIDTH</span><span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">streamDataDm2k</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">STREAMDWIDTH</span><span class="o">&gt;&gt;&amp;</span> <span class="n">in</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_axiu</span> <span class="o">&lt;</span><span class="n">STREAMDWIDTH</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="o">&gt;&gt;&amp;</span> <span class="n">inStream_dm</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">inputSize</span>
    <span class="p">)</span></pre>
<p>Write N-bit wide data of given size from hls stream to kernel axi stream. N is passed as template parameter.</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-center">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>STREAMDWIDTH</p></td>
<td><p>stream data width</p></td>
</tr>
<tr class="row-even"><td><p>in</p></td>
<td><p>input hls stream</p></td>
</tr>
<tr class="row-odd"><td><p>inStream_dm</p></td>
<td><p>output kernel stream</p></td>
</tr>
<tr class="row-even"><td><p>inputSize</p></td>
<td><p>size of data in to be transferred</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="streamdatak2dm">
<span id="cid-xf-compression-streamdatak2dm"></span><span id="doxid-namespacexf-1-1compression-1a4b9ced671a025fd34483f74819f110b0"></span><h2>streamDataK2dm<a class="headerlink" href="#streamdatak2dm" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;axi_stream_utils.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="kt">void</span> <span class="n">streamDataK2dm</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">&gt;&gt;&amp;</span> <span class="n">out</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">bytEos</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">uint32_t</span><span class="o">&gt;&amp;</span> <span class="n">dataSize</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">kStream8b_t</span><span class="o">&gt;&amp;</span> <span class="n">dmOutStream</span>
    <span class="p">)</span></pre>
<p>Read data from kernel axi stream byte by byte and write to hls stream and indicate end of stream.</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-center">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>out</p></td>
<td><p>output hls stream</p></td>
</tr>
<tr class="row-even"><td><p>bytEos</p></td>
<td><p>internal stream which indicates end of data stream</p></td>
</tr>
<tr class="row-odd"><td><p>dataSize</p></td>
<td><p>size of data in streams</p></td>
</tr>
<tr class="row-even"><td><p>dmOutStream</p></td>
<td><p>input kernel axi stream to be read</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="streamdatak2dmfixedsize">
<span id="cid-xf-compression-streamdatak2dmfixedsize"></span><span id="doxid-namespacexf-1-1compression-1aaa9ba7134885c8a872d5556a4a81cf21"></span><h2>streamDataK2dmFixedSize<a class="headerlink" href="#streamdatak2dmfixedsize" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;axi_stream_utils.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="kt">void</span> <span class="n">streamDataK2dmFixedSize</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">&gt;&gt;&amp;</span> <span class="n">out</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">kStream8b_t</span><span class="o">&gt;&amp;</span> <span class="n">dmOutStream</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">dataSize</span>
    <span class="p">)</span></pre>
<p>Read data from kernel axi stream byte by byte and write to hls stream for given output size.</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-center">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>out</p></td>
<td><p>output hls stream</p></td>
</tr>
<tr class="row-even"><td><p>dmOutStream</p></td>
<td><p>input kernel axi stream to be read</p></td>
</tr>
<tr class="row-odd"><td><p>dataSize</p></td>
<td><p>size of data in streams</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="kstreamread">
<span id="cid-xf-compression-kstreamread"></span><span id="doxid-namespacexf-1-1compression-1ab786bd2b026f70c6efb9d9c4366a9159"></span><h2>kStreamRead<a class="headerlink" href="#kstreamread" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;kernel_stream_utils.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="k">template</span> <span class="o">&lt;</span><span class="kt">uint32_t</span> <span class="n">DATAWIDTH</span><span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">kStreamRead</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_axiu</span> <span class="o">&lt;</span><span class="n">DATAWIDTH</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="o">&gt;&gt;&amp;</span> <span class="n">inKStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">DATAWIDTH</span><span class="o">&gt;&gt;&amp;</span> <span class="n">readStream</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">input_size</span>
    <span class="p">)</span></pre>
<p>Read N-bit wide data from internal streams output by compression modules and write to output axi stream. N is the template parameter DATAWIDTH.</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-center">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>DATAWIDTH</p></td>
<td><p>data width of the kernel stream</p></td>
</tr>
<tr class="row-even"><td><p>inKStream</p></td>
<td><p>input axi kernel stream</p></td>
</tr>
<tr class="row-odd"><td><p>readStream</p></td>
<td><p>internal hls stream to be read for processing</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="kstreamwrite">
<span id="cid-xf-compression-kstreamwrite"></span><span id="doxid-namespacexf-1-1compression-1a3bb7b44a0e13f789879e4cee7b47e257"></span><h2>kStreamWrite<a class="headerlink" href="#kstreamwrite" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;kernel_stream_utils.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="k">template</span> <span class="o">&lt;</span><span class="kt">uint32_t</span> <span class="n">DATAWIDTH</span><span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">kStreamWrite</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_axiu</span> <span class="o">&lt;</span><span class="n">DATAWIDTH</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="o">&gt;&gt;&amp;</span> <span class="n">outKStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">DATAWIDTH</span><span class="o">&gt;&gt;&amp;</span> <span class="n">outDataStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">byteEos</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">uint32_t</span><span class="o">&gt;&amp;</span> <span class="n">dataSize</span>
    <span class="p">)</span></pre>
<p>Read N-bit wide data from internal hls streams and write to axi kernel stream till the end of stream. N is the template parameter DATAWIDTH.</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-center">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>DATAWIDTH</p></td>
<td><p>data width of the kernel stream</p></td>
</tr>
<tr class="row-even"><td><p>outKStream</p></td>
<td><p>output kernel stream</p></td>
</tr>
<tr class="row-odd"><td><p>outDataStream</p></td>
<td><p>output data stream from internal modules</p></td>
</tr>
<tr class="row-even"><td><p>byteEos</p></td>
<td><p>internal stream which indicates end of data stream</p></td>
</tr>
<tr class="row-odd"><td><p>dataSize</p></td>
<td><p>size of data in streams</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="kstreamwritefixedsize">
<span id="cid-xf-compression-kstreamwritefixedsize"></span><span id="doxid-namespacexf-1-1compression-1acbb02d6fef687b30a25f9a6026b4251a"></span><h2>kStreamWriteFixedSize<a class="headerlink" href="#kstreamwritefixedsize" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;kernel_stream_utils.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="k">template</span> <span class="o">&lt;</span><span class="kt">uint32_t</span> <span class="n">DATAWIDTH</span><span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">kStreamWriteFixedSize</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_axiu</span> <span class="o">&lt;</span><span class="n">DATAWIDTH</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="o">&gt;&gt;&amp;</span> <span class="n">outKStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">DATAWIDTH</span><span class="o">&gt;&gt;&amp;</span> <span class="n">outDataStream</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">outputSize</span>
    <span class="p">)</span></pre>
<p>Read N-bit wide data from internal hls streams and write to axi kernel stream for the given size. N is the template parameter DATAWIDTH.</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-center">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>DATAWIDTH</p></td>
<td><p>data width of the kernel stream</p></td>
</tr>
<tr class="row-even"><td><p>outKStream</p></td>
<td><p>output kernel stream</p></td>
</tr>
<tr class="row-odd"><td><p>outDataStream</p></td>
<td><p>output data stream from internal modules</p></td>
</tr>
<tr class="row-even"><td><p>dataSize</p></td>
<td><p>size of data in streams</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="lz4compress">
<span id="cid-xf-compression-lz4compress"></span><span id="doxid-namespacexf-1-1compression-1aec51f097d8730e92b29f49e4d2cafd63"></span><h2>lz4Compress<a class="headerlink" href="#lz4compress" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;lz4_compress.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="k">static</span> <span class="kt">void</span> <span class="n">lz4Compress</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">uint8_t</span><span class="o">&gt;&amp;</span> <span class="n">in_lit_inStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">lz4_compressd_dt</span><span class="o">&gt;&amp;</span> <span class="n">in_lenOffset_Stream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">&gt;&gt;&amp;</span> <span class="n">outStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">endOfStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">uint32_t</span><span class="o">&gt;&amp;</span> <span class="n">compressdSizeStream</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">input_size</span>
    <span class="p">)</span></pre>
<p>This module does the lz4 encoding by starting from WRITE_TOKEN state and based on the input read from stream the processing state changes.</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-center">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>in_lit_inStream</p></td>
<td><p>Read Literals</p></td>
</tr>
<tr class="row-even"><td><p>in_lenOffset_Stream</p></td>
<td><p>Read Offset-length</p></td>
</tr>
<tr class="row-odd"><td><p>outStream</p></td>
<td><p>Output data stream</p></td>
</tr>
<tr class="row-even"><td><p>endOfStream</p></td>
<td><p>Stream indicating that all data is processed or not</p></td>
</tr>
<tr class="row-odd"><td><p>compressdSizeStream</p></td>
<td><p>Gives the compressed size for each 64K block</p></td>
</tr>
<tr class="row-even"><td><p>input_size</p></td>
<td><p>Size of input</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="lz4divide">
<span id="cid-xf-compression-lz4divide"></span><span id="doxid-namespacexf-1-1compression-1aa8ce481565fa95029f6a5d2bcd2288f6"></span><h2>lz4Divide<a class="headerlink" href="#lz4divide" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;lz4_compress.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="k">template</span> <span class="o">&lt;</span><span class="kt">int</span> <span class="n">MAX_LIT_COUNT</span><span class="o">&gt;</span>
<span class="k">static</span> <span class="kt">void</span> <span class="n">lz4Divide</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">compressd_dt</span><span class="o">&gt;&amp;</span> <span class="n">inStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">uint8_t</span><span class="o">&gt;&amp;</span> <span class="n">lit_outStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">lz4_compressd_dt</span><span class="o">&gt;&amp;</span> <span class="n">lenOffset_Stream</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">input_size</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">max_lit_limit</span> <span class="p">[</span><span class="n">PARALLEL_BLOCK</span><span class="p">],</span>
    <span class="kt">uint32_t</span> <span class="n">index</span>
    <span class="p">)</span></pre>
<p>This is an intermediate module that seperates the input stream into two output streams, one literal stream and the other matchlen and offset stream.</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-center">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>MAX_LIT_COUNT</p></td>
<td><p>maximum literal count</p></td>
</tr>
<tr class="row-even"><td><p>inStream</p></td>
<td><p>reference of input literals stream</p></td>
</tr>
<tr class="row-odd"><td><p>lit_outStream</p></td>
<td><p>Offset-length stream for literals in input stream</p></td>
</tr>
<tr class="row-even"><td><p>lenOffset_Stream</p></td>
<td><p>output data stream</p></td>
</tr>
<tr class="row-odd"><td><p>input_size</p></td>
<td><p>end flag for stream</p></td>
</tr>
<tr class="row-even"><td><p>max_lit_limit</p></td>
<td><p>Size for compressed stream</p></td>
</tr>
<tr class="row-odd"><td><p>index</p></td>
<td><p>size of input</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="lz4decompress">
<span id="cid-xf-compression-lz4decompress"></span><span id="doxid-namespacexf-1-1compression-1a1710109f73f8732aa47f9f32ce48ffb1"></span><h2>lz4Decompress<a class="headerlink" href="#lz4decompress" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;lz4_decompress.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="kt">void</span> <span class="n">lz4Decompress</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">&gt;&gt;&amp;</span> <span class="n">inStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">compressd_dt</span><span class="o">&gt;&amp;</span> <span class="n">outStream</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">input_size</span>
    <span class="p">)</span></pre>
<p>This module reads the compressed data from input stream and decodes the offset, match length and literals by processing in various decompress states.</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-center">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>inStream</p></td>
<td><p>Input stream 8bit</p></td>
</tr>
<tr class="row-even"><td><p>outStream</p></td>
<td><p>Output stream 32bit</p></td>
</tr>
<tr class="row-odd"><td><p>input_size</p></td>
<td><p>Input size</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="lzcompress">
<span id="cid-xf-compression-lzcompress"></span><span id="doxid-namespacexf-1-1compression-1af5497dbaf33a90230a0ff12efaa1f921"></span><h2>lzCompress<a class="headerlink" href="#lzcompress" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;lz_compress.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">MATCH_LEN</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">MATCH_LEVEL</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">LZ_DICT_SIZE</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">BIT</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">MIN_OFFSET</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">MIN_MATCH</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">LZ_MAX_OFFSET_LIMIT</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">lzCompress</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">BIT</span><span class="o">&gt;&gt;&amp;</span> <span class="n">inStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">compressd_dt</span><span class="o">&gt;&amp;</span> <span class="n">outStream</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">input_size</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">left_bytes</span>
    <span class="p">)</span></pre>
<p>This module reads input literals from stream and updates match length and offset of each literal.</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-center">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>MATCH_LEN</p></td>
<td><p>match length</p></td>
</tr>
<tr class="row-even"><td><p>MATCH_LEVEL</p></td>
<td><p>match level</p></td>
</tr>
<tr class="row-odd"><td><p>LZ_DICT_SIZE</p></td>
<td><p>dictionary size</p></td>
</tr>
<tr class="row-even"><td><p>BIT</p></td>
<td><p>bit</p></td>
</tr>
<tr class="row-odd"><td><p>MIN_OFFSET</p></td>
<td><p>minimum offset</p></td>
</tr>
<tr class="row-even"><td><p>MIN_MATCH</p></td>
<td><p>minimum match</p></td>
</tr>
<tr class="row-odd"><td><p>LZ_MAX_OFFSET_LIMIT</p></td>
<td><p>maximum offset limit</p></td>
</tr>
<tr class="row-even"><td><p>inStream</p></td>
<td><p>input stream</p></td>
</tr>
<tr class="row-odd"><td><p>outStream</p></td>
<td><p>output stream</p></td>
</tr>
<tr class="row-even"><td><p>input_size</p></td>
<td><p>input size</p></td>
</tr>
<tr class="row-odd"><td><p>left_bytes</p></td>
<td><p>left bytes in block</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="lzdecompress">
<span id="cid-xf-compression-lzdecompress"></span><span id="doxid-namespacexf-1-1compression-1ae02088f889b35880f0ca0da17a5f4a63"></span><h2>lzDecompress<a class="headerlink" href="#lzdecompress" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;lz_decompress.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">HISTORY_SIZE</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">READ_STATE</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">MATCH_STATE</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">LOW_OFFSET_STATE</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">LOW_OFFSET</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">lzDecompress</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">compressd_dt</span><span class="o">&gt;&amp;</span> <span class="n">inStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">&gt;&gt;&amp;</span> <span class="n">outStream</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">original_size</span>
    <span class="p">)</span></pre>
<p>This module writes the literals to the output stream as is and when match length and offset are read, the literals will be read from the local dictionary based on offset until match length.</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-center">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>HISTORY_SIZE</p></td>
<td><p>history size</p></td>
</tr>
<tr class="row-even"><td><p>READ_STATE</p></td>
<td><p>read state</p></td>
</tr>
<tr class="row-odd"><td><p>MATCH_STATE</p></td>
<td><p>match state</p></td>
</tr>
<tr class="row-even"><td><p>LOW_OFFSET_STATE</p></td>
<td><p>low offset state</p></td>
</tr>
<tr class="row-odd"><td><p>LOW_OFFSET</p></td>
<td><p>low offset</p></td>
</tr>
<tr class="row-even"><td><p>inStream</p></td>
<td><p>input stream</p></td>
</tr>
<tr class="row-odd"><td><p>outStream</p></td>
<td><p>output stream</p></td>
</tr>
<tr class="row-even"><td><p>original_size</p></td>
<td><p>original size</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="lzbestmatchfilter">
<span id="cid-xf-compression-lzbestmatchfilter"></span><span id="doxid-namespacexf-1-1compression-1ac009ea0c6deba998a4eec5ad2fa23d2b"></span><h2>lzBestMatchFilter<a class="headerlink" href="#lzbestmatchfilter" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;lz_optional.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">MATCH_LEN</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">OFFSET_WINDOW</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">lzBestMatchFilter</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">compressd_dt</span><span class="o">&gt;&amp;</span> <span class="n">inStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">compressd_dt</span><span class="o">&gt;&amp;</span> <span class="n">outStream</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">input_size</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">left_bytes</span>
    <span class="p">)</span></pre>
<p>Objective of this module is to pick character with higher match length in the offset window range.</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-center">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>MATCH_LEN</p></td>
<td><p>length of matched segment</p></td>
</tr>
<tr class="row-even"><td><p>OFFSET_WINDOW</p></td>
<td><p>output window</p></td>
</tr>
<tr class="row-odd"><td><p>inStream</p></td>
<td><p>intput stream</p></td>
</tr>
<tr class="row-even"><td><p>outStream</p></td>
<td><p>output stream</p></td>
</tr>
<tr class="row-odd"><td><p>input_size</p></td>
<td><p>intput stream size</p></td>
</tr>
<tr class="row-even"><td><p>left_bytes</p></td>
<td><p>bytes left in block</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="lzbooster">
<span id="cid-xf-compression-lzbooster"></span><span id="doxid-namespacexf-1-1compression-1a18026639223349e8757bb45c2ded2ef0"></span><h2>lzBooster<a class="headerlink" href="#lzbooster" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;lz_optional.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">MAX_MATCH_LEN</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">BOOSTER_OFFSET_WINDOW</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">lzBooster</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">compressd_dt</span><span class="o">&gt;&amp;</span> <span class="n">inStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">compressd_dt</span><span class="o">&gt;&amp;</span> <span class="n">outStream</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">input_size</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">left_bytes</span>
    <span class="p">)</span></pre>
<p>This module helps in improving the compression ratio. Finds a better match length by performing more character matches with supported max match, while maintaining an offset window.</p>
<p>Following is simple demonstartion of booster input and output.</p>
<p><strong>Input:</strong> even though HAPPY BIRTHDAY can be matched fully but match length is still 6 due to MATCH_LEN Input stream each data is 32bit and contains following:</p>
<ul class="simple">
<li><p>character data (8bit) - …..HAPPY BIRTHDAY ………. HAPPY BIRTHDAY</p></li>
<li><p>match length (8bit) - …..000000000000001……….060000000000000</p></li>
<li><p>offset (16bit) - …..xy….p……k…………x0000000000000</p></li>
</ul>
<p><strong>Output</strong> - with booster technique match length is increased to 14</p>
<ul class="simple">
<li><p>character data (8bit) - …..HAPPY BIRTHDAY ………. HAPPY BIRTHDAY</p></li>
<li><p>match length (8bit) - …..000000000000001……….0140000000000000</p></li>
<li><p>offset (16bit) - …..xy….p……k…………x0000000000000</p></li>
<li><p>Improves Compression Ratio</p></li>
<li><p>Increase in BRAM resources for BOOSTER_OFFSET_WINDOW local memory</p></li>
</ul>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-center">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>MAX_MATCH_LEN</p></td>
<td><p>maximum length allowed for character match</p></td>
</tr>
<tr class="row-even"><td><p>BOOSTER_OFFSET_WINDOW</p></td>
<td><p>offset window to store/match the character</p></td>
</tr>
<tr class="row-odd"><td><p>inStream</p></td>
<td><p>input stream 32bit per read</p></td>
</tr>
<tr class="row-even"><td><p>outStream</p></td>
<td><p>output stream 32bit per write</p></td>
</tr>
<tr class="row-odd"><td><p>input_size</p></td>
<td><p>intput size</p></td>
</tr>
<tr class="row-even"><td><p>left_bytes</p></td>
<td><p>last 64 left over bytes</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="lzfilter">
<span id="cid-xf-compression-lzfilter"></span><span id="doxid-namespacexf-1-1compression-1ae86722f675ee482734f547af7170cc8b"></span><h2>lzFilter<a class="headerlink" href="#lzfilter" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;lz_optional.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="k">static</span> <span class="kt">void</span> <span class="n">lzFilter</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">compressd_dt</span><span class="o">&gt;&amp;</span> <span class="n">inStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">compressd_dt</span><span class="o">&gt;&amp;</span> <span class="n">outStream</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">input_size</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">left_bytes</span>
    <span class="p">)</span></pre>
<p>This module checks if match length exists, and if match length exists it filters the match length -1 characters writing to output stream.</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-center">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>MATCH_LEN</p></td>
<td><p>length of matched segment</p></td>
</tr>
<tr class="row-even"><td><p>OFFSET_WINDOW</p></td>
<td><p>output window</p></td>
</tr>
<tr class="row-odd"><td><p>inStream</p></td>
<td><p>intput stream</p></td>
</tr>
<tr class="row-even"><td><p>outStream</p></td>
<td><p>output stream</p></td>
</tr>
<tr class="row-odd"><td><p>input_size</p></td>
<td><p>intput stream size</p></td>
</tr>
<tr class="row-even"><td><p>left_bytes</p></td>
<td><p>bytes left in block</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="mm2snb">
<span id="cid-xf-compression-mm2snb"></span><span id="doxid-namespacexf-1-1compression-1aa7ee9a50a179566a67c1ad18180cc1a6"></span><h2>mm2sNb<a class="headerlink" href="#mm2snb" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;mm2s.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">DATAWIDTH</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">BURST_SIZE</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">NUM_BLOCKS</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">mm2sNb</span> <span class="p">(</span>
    <span class="k">const</span> <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">DATAWIDTH</span><span class="o">&gt;*</span> <span class="n">in</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">uint32_t</span> <span class="n">_input_idx</span> <span class="p">[</span><span class="n">PARALLEL_BLOCK</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">DATAWIDTH</span><span class="o">&gt;&gt;</span> <span class="n">outStream</span> <span class="p">[</span><span class="n">PARALLEL_BLOCK</span><span class="p">],</span>
    <span class="k">const</span> <span class="kt">uint32_t</span> <span class="n">_input_size</span> <span class="p">[</span><span class="n">PARALLEL_BLOCK</span><span class="p">]</span>
    <span class="p">)</span></pre>
<p>This module reads 512bit data from memory interface and writes to the stream. Writing to the multiple data streams is non-blocking call which is done using is_full() API.</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-center">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>DATAWIDTH</p></td>
<td><p>width of data bus</p></td>
</tr>
<tr class="row-even"><td><p>BURST_SIZE</p></td>
<td><p>burst size of the data transfers</p></td>
</tr>
<tr class="row-odd"><td><p>NUM_BLOCKS</p></td>
<td><p>number of blocks</p></td>
</tr>
<tr class="row-even"><td><p>in</p></td>
<td><p>input memory address</p></td>
</tr>
<tr class="row-odd"><td><p>_input_idx</p></td>
<td><p>input index</p></td>
</tr>
<tr class="row-even"><td><p>outStream</p></td>
<td><p>output stream</p></td>
</tr>
<tr class="row-odd"><td><p>_input_size</p></td>
<td><p>intput stream size</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="mm2snbroundoff">
<span id="cid-xf-compression-mm2snbroundoff"></span><span id="doxid-namespacexf-1-1compression-1a04a8396c062eb130c73c6156e8f57f83"></span><h2>mm2sNbRoundOff<a class="headerlink" href="#mm2snbroundoff" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;mm2s.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">DATAWIDTH</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">BURST_SIZE</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">NUM_BLOCKS</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">mm2sNbRoundOff</span> <span class="p">(</span>
    <span class="k">const</span> <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">DATAWIDTH</span><span class="o">&gt;*</span> <span class="n">in</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">uint32_t</span> <span class="n">_input_idx</span> <span class="p">[</span><span class="n">PARALLEL_BLOCK</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">DATAWIDTH</span><span class="o">&gt;&gt;</span> <span class="n">outStream</span> <span class="p">[</span><span class="n">PARALLEL_BLOCK</span><span class="p">],</span>
    <span class="k">const</span> <span class="kt">uint32_t</span> <span class="n">_input_size</span> <span class="p">[</span><span class="n">PARALLEL_BLOCK</span><span class="p">]</span>
    <span class="p">)</span></pre>
<p>This module is same as mm2sNb API but with an extra handling rounding off the indexing to maximum buffer size for P2P decompression.</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-center">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>DATAWIDTH</p></td>
<td><p>width of data bus</p></td>
</tr>
<tr class="row-even"><td><p>BURST_SIZE</p></td>
<td><p>burst size of the data transfers</p></td>
</tr>
<tr class="row-odd"><td><p>NUM_BLOCKS</p></td>
<td><p>number of blocks</p></td>
</tr>
<tr class="row-even"><td><p>in</p></td>
<td><p>input memory address</p></td>
</tr>
<tr class="row-odd"><td><p>_input_idx</p></td>
<td><p>input index</p></td>
</tr>
<tr class="row-even"><td><p>outStream</p></td>
<td><p>output stream</p></td>
</tr>
<tr class="row-odd"><td><p>_input_size</p></td>
<td><p>intput stream size</p></td>
</tr>
<tr class="row-even"><td><p>max_buffer_size_in_bytes</p></td>
<td><p>Maximum buffer size for indexing</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="mm2ssimple">
<span id="cid-xf-compression-mm2ssimple"></span><span id="doxid-namespacexf-1-1compression-1ae3778b17a59ae8333caa3b813cb33beb"></span><h2>mm2sSimple<a class="headerlink" href="#mm2ssimple" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;mm2s.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">DATAWIDTH</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">BURST_SIZE</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">mm2sSimple</span> <span class="p">(</span>
    <span class="k">const</span> <span class="n">uintMemWidth_t</span><span class="o">*</span> <span class="n">in</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">uintMemWidth_t</span><span class="o">&gt;&amp;</span> <span class="n">outstream</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">inputSize</span>
    <span class="p">)</span></pre>
<p>Read data from 512-bit wide axi memory interface and write to stream.</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-center">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>DATAWIDTH</p></td>
<td><p>width of data bus</p></td>
</tr>
<tr class="row-even"><td><p>BURST_SIZE</p></td>
<td><p>burst size of the data transfers</p></td>
</tr>
<tr class="row-odd"><td><p>in</p></td>
<td><p>pointer to input memory</p></td>
</tr>
<tr class="row-even"><td><p>outstream</p></td>
<td><p>output stream</p></td>
</tr>
<tr class="row-odd"><td><p>inputSize</p></td>
<td><p>size of the data</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="s2mmeosnb">
<span id="cid-xf-compression-s2mmeosnb"></span><span id="doxid-namespacexf-1-1compression-1abf8c23016af9dd2af0991eba67b001db"></span><h2>s2mmEosNb<a class="headerlink" href="#s2mmeosnb" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;s2mm.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="k">class</span> <span class="n">STREAM_SIZE_DT</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">BURST_SIZE</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">DATAWIDTH</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">NUM_BLOCKS</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">s2mmEosNb</span> <span class="p">(</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">DATAWIDTH</span><span class="o">&gt;*</span> <span class="n">out</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">uint32_t</span> <span class="n">output_idx</span> <span class="p">[</span><span class="n">PARALLEL_BLOCK</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">DATAWIDTH</span><span class="o">&gt;&gt;</span> <span class="n">inStream</span> <span class="p">[</span><span class="n">PARALLEL_BLOCK</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">endOfStream</span> <span class="p">[</span><span class="n">PARALLEL_BLOCK</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">uint32_t</span><span class="o">&gt;</span> <span class="n">compressedSize</span> <span class="p">[</span><span class="n">PARALLEL_BLOCK</span><span class="p">],</span>
    <span class="n">STREAM_SIZE_DT</span> <span class="n">output_size</span> <span class="p">[</span><span class="n">PARALLEL_BLOCK</span><span class="p">]</span>
    <span class="p">)</span></pre>
<p>This module reads DATAWIDTH data from stream until end of stream happens and writes the data to DDR. Reading data from multiple data streams is non-blocking which is done using empty() API.</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-center">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>STREAM_SIZE_DT</p></td>
<td><p>Stream size class instance</p></td>
</tr>
<tr class="row-even"><td><p>BURST_SIZE</p></td>
<td><p>burst size of the data transfers</p></td>
</tr>
<tr class="row-odd"><td><p>DATAWIDTH</p></td>
<td><p>width of data bus</p></td>
</tr>
<tr class="row-even"><td><p>NUM_BLOCKS</p></td>
<td><p>number of blocks</p></td>
</tr>
<tr class="row-odd"><td><p>out</p></td>
<td><p>output memory address</p></td>
</tr>
<tr class="row-even"><td><p>output_idx</p></td>
<td><p>output index</p></td>
</tr>
<tr class="row-odd"><td><p>inStream</p></td>
<td><p>input stream</p></td>
</tr>
<tr class="row-even"><td><p>endOfStream</p></td>
<td><p>end flag for stream</p></td>
</tr>
<tr class="row-odd"><td><p>compressedSize</p></td>
<td><p>size of compressed stream</p></td>
</tr>
<tr class="row-even"><td><p>output_size</p></td>
<td><p>output size</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="s2mmnb">
<span id="cid-xf-compression-s2mmnb"></span><span id="doxid-namespacexf-1-1compression-1a8f2df948c53a68705acb3f76da89525f"></span><h2>s2mmNb<a class="headerlink" href="#s2mmnb" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;s2mm.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="k">class</span> <span class="n">STREAM_SIZE_DT</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">BURST_SIZE</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">DATAWIDTH</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">NUM_BLOCKS</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">s2mmNb</span> <span class="p">(</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">DATAWIDTH</span><span class="o">&gt;*</span> <span class="n">out</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">uint32_t</span> <span class="n">output_idx</span> <span class="p">[</span><span class="n">PARALLEL_BLOCK</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">DATAWIDTH</span><span class="o">&gt;&gt;</span> <span class="n">inStream</span> <span class="p">[</span><span class="n">PARALLEL_BLOCK</span><span class="p">],</span>
    <span class="k">const</span> <span class="n">STREAM_SIZE_DT</span> <span class="n">input_size</span> <span class="p">[</span><span class="n">PARALLEL_BLOCK</span><span class="p">]</span>
    <span class="p">)</span></pre>
<p>This module reads DATAWIDTH data from stream based on size stream and writes the data to DDR. Reading data from multiple data streams is non-blocking which is done using empty() API.</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-center">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>STREAM_SIZE_DT</p></td>
<td><p>Stream size class instance</p></td>
</tr>
<tr class="row-even"><td><p>BURST_SIZE</p></td>
<td><p>burst size of the data transfers</p></td>
</tr>
<tr class="row-odd"><td><p>DATAWIDTH</p></td>
<td><p>width of data bus</p></td>
</tr>
<tr class="row-even"><td><p>NUM_BLOCKS</p></td>
<td><p>number of blocks</p></td>
</tr>
<tr class="row-odd"><td><p>out</p></td>
<td><p>output memory address</p></td>
</tr>
<tr class="row-even"><td><p>output_idx</p></td>
<td><p>output index</p></td>
</tr>
<tr class="row-odd"><td><p>inStream</p></td>
<td><p>input stream</p></td>
</tr>
<tr class="row-even"><td><p>input_size</p></td>
<td><p>input size</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="s2mmeossimple">
<span id="cid-xf-compression-s2mmeossimple"></span><span id="doxid-namespacexf-1-1compression-1a45cb9f59475436379c03556d5e4f525b"></span><h2>s2mmEosSimple<a class="headerlink" href="#s2mmeossimple" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;s2mm.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="k">class</span> <span class="n">STREAM_SIZE_DT</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">BURST_SIZE</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">DATAWIDTH</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">NUM_BLOCKS</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">s2mmEosSimple</span> <span class="p">(</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">DATAWIDTH</span><span class="o">&gt;*</span> <span class="n">out</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">DATAWIDTH</span><span class="o">&gt;&gt;&amp;</span> <span class="n">inStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">endOfStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">uint32_t</span><span class="o">&gt;&amp;</span> <span class="n">outSize</span><span class="p">,</span>
    <span class="kt">uint32_t</span><span class="o">*</span> <span class="n">output_size</span>
    <span class="p">)</span></pre>
<p>This module reads DATAWIDTH data from stream based on size stream and writes the data to DDR.</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-center">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>STREAM_SIZE_DT</p></td>
<td><p>Stream size class instance</p></td>
</tr>
<tr class="row-even"><td><p>BURST_SIZE</p></td>
<td><p>burst size of the data transfers</p></td>
</tr>
<tr class="row-odd"><td><p>DATAWIDTH</p></td>
<td><p>width of data bus</p></td>
</tr>
<tr class="row-even"><td><p>NUM_BLOCKS</p></td>
<td><p>number of blocks</p></td>
</tr>
<tr class="row-odd"><td><p>out</p></td>
<td><p>output memory address</p></td>
</tr>
<tr class="row-even"><td><p>output_idx</p></td>
<td><p>output index</p></td>
</tr>
<tr class="row-odd"><td><p>inStream</p></td>
<td><p>input stream</p></td>
</tr>
<tr class="row-even"><td><p>endOfStream</p></td>
<td><p>stream to indicate end of data stream</p></td>
</tr>
<tr class="row-odd"><td><p>outSize</p></td>
<td><p>output data size</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="s2mmeosnbzlib">
<span id="cid-xf-compression-s2mmeosnbzlib"></span><span id="doxid-namespacexf-1-1compression-1a47d7ad4176082bc96c2bac541eeb1ebc"></span><h2>s2mmEosNbZlib<a class="headerlink" href="#s2mmeosnbzlib" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;s2mm.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="k">class</span> <span class="n">STREAM_SIZE_DT</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">BURST_SIZE</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">DATAWIDTH</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">NUM_BLOCKS</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">s2mmEosNbZlib</span> <span class="p">(</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">DATAWIDTH</span><span class="o">&gt;*</span> <span class="n">out</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">uint32_t</span> <span class="n">output_idx</span> <span class="p">[</span><span class="n">PARALLEL_BLOCK</span><span class="p">],</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">DATAWIDTH</span><span class="o">&gt;&gt;&amp;</span> <span class="n">inStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">endOfStream</span><span class="p">,</span>
    <span class="n">STREAM_SIZE_DT</span> <span class="n">output_size</span> <span class="p">[</span><span class="n">PARALLEL_BLOCK</span><span class="p">],</span>
    <span class="kt">uint32_t</span> <span class="n">outSize</span>
    <span class="p">)</span></pre>
<p>This module reads DATAWIDTH data from stream based on size stream and writes the data to DDR. Reading data from multiple data streams is non-blocking which is done using empty() API.</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-center">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>STREAM_SIZE_DT</p></td>
<td><p>Stream size class instance</p></td>
</tr>
<tr class="row-even"><td><p>BURST_SIZE</p></td>
<td><p>burst size of the data transfers</p></td>
</tr>
<tr class="row-odd"><td><p>DATAWIDTH</p></td>
<td><p>width of data bus</p></td>
</tr>
<tr class="row-even"><td><p>NUM_BLOCKS</p></td>
<td><p>number of blocks</p></td>
</tr>
<tr class="row-odd"><td><p>out</p></td>
<td><p>output memory address</p></td>
</tr>
<tr class="row-even"><td><p>output_idx</p></td>
<td><p>output index</p></td>
</tr>
<tr class="row-odd"><td><p>inStream</p></td>
<td><p>input stream</p></td>
</tr>
<tr class="row-even"><td><p>endOfStream</p></td>
<td><p>stream to indicate end of data stream</p></td>
</tr>
<tr class="row-odd"><td><p>outSize</p></td>
<td><p>output data size</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="s2mmsimple">
<span id="cid-xf-compression-s2mmsimple"></span><span id="doxid-namespacexf-1-1compression-1a086f13150831e9a1a0af79d37483d1e7"></span><h2>s2mmSimple<a class="headerlink" href="#s2mmsimple" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;s2mm.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="k">template</span> <span class="o">&lt;</span><span class="kt">int</span> <span class="n">DATAWIDTH</span><span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">s2mmSimple</span> <span class="p">(</span>
    <span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">DATAWIDTH</span><span class="o">&gt;*</span> <span class="n">out</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">DATAWIDTH</span><span class="o">&gt;&gt;&amp;</span> <span class="n">inStream</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">output_size</span>
    <span class="p">)</span></pre>
<p>This module reads N-bit data from stream based on size stream and writes the data to DDR. N is template parameter DATAWIDTH.</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-center">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>DATAWIDTH</p></td>
<td><p>Width of the input data stream</p></td>
</tr>
<tr class="row-even"><td><p>out</p></td>
<td><p>output memory address</p></td>
</tr>
<tr class="row-odd"><td><p>inStream</p></td>
<td><p>input hls stream</p></td>
</tr>
<tr class="row-even"><td><p>output_size</p></td>
<td><p>output data size</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="snappycompress">
<span id="cid-xf-compression-snappycompress"></span><span id="doxid-namespacexf-1-1compression-1a6c557befca577c72f320e66870a4241b"></span><h2>snappyCompress<a class="headerlink" href="#snappycompress" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;snappy_compress.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="k">static</span> <span class="kt">void</span> <span class="n">snappyCompress</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">uint8_t</span><span class="o">&gt;&amp;</span> <span class="n">in_lit_inStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">snappy_compressd_dt</span><span class="o">&gt;&amp;</span> <span class="n">in_lenOffset_Stream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">&gt;&gt;&amp;</span> <span class="n">outStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">endOfStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">uint32_t</span><span class="o">&gt;&amp;</span> <span class="n">compressdSizeStream</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">input_size</span>
    <span class="p">)</span></pre>
<p>This module encodes the input data based on the snappy algorithm.</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-center">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>in_lit_inStream</p></td>
<td><p>reference of input literals stream</p></td>
</tr>
<tr class="row-even"><td><p>in_lenOffset_Stream</p></td>
<td><p>Offset-length stream for literals in input stream</p></td>
</tr>
<tr class="row-odd"><td><p>outStream</p></td>
<td><p>output data stream</p></td>
</tr>
<tr class="row-even"><td><p>endOfStream</p></td>
<td><p>end flag for stream</p></td>
</tr>
<tr class="row-odd"><td><p>compressdSizeStream</p></td>
<td><p>Size for compressed stream</p></td>
</tr>
<tr class="row-even"><td><p>input_size</p></td>
<td><p>size of input</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="snappydivide">
<span id="cid-xf-compression-snappydivide"></span><span id="doxid-namespacexf-1-1compression-1af85b5d937b065a3c89880f8c4d3686e9"></span><h2>snappyDivide<a class="headerlink" href="#snappydivide" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;snappy_compress.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">MAX_LIT_COUNT</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">MAX_LIT_STREAM_SIZE</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">snappyDivide</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">compressd_dt</span><span class="o">&gt;&amp;</span> <span class="n">inStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">uint8_t</span><span class="o">&gt;&amp;</span> <span class="n">lit_outStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">snappy_compressd_dt</span><span class="o">&gt;&amp;</span> <span class="n">lenOffset_Stream</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">input_size</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">max_lit_limit</span> <span class="p">[</span><span class="n">PARALLEL_BLOCK</span><span class="p">],</span>
    <span class="kt">uint32_t</span> <span class="n">index</span>
    <span class="p">)</span></pre>
<p>This is an intermediate module that seperates the input stream into two output streams, one literal stream and the other matchlen and offset stream.</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-center">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>inStream</p></td>
<td><p>reference of input literals stream</p></td>
</tr>
<tr class="row-even"><td><p>lit_outStream</p></td>
<td><p>Offset-length stream for literals in input stream</p></td>
</tr>
<tr class="row-odd"><td><p>lenOffset_Stream</p></td>
<td><p>output data stream</p></td>
</tr>
<tr class="row-even"><td><p>input_size</p></td>
<td><p>end flag for stream</p></td>
</tr>
<tr class="row-odd"><td><p>max_lit_limit</p></td>
<td><p>Size for compressed stream</p></td>
</tr>
<tr class="row-even"><td><p>index</p></td>
<td><p>size of input</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="snappydecompress">
<span id="cid-xf-compression-snappydecompress"></span><span id="doxid-namespacexf-1-1compression-1afaff624736a65e4b128f3ebc325c1a03"></span><h2>snappyDecompress<a class="headerlink" href="#snappydecompress" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;snappy_decompress.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="k">static</span> <span class="kt">void</span> <span class="n">snappyDecompress</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">uintV_t</span><span class="o">&gt;&amp;</span> <span class="n">inStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">encoded_dt</span><span class="o">&gt;&amp;</span> <span class="n">outStream</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">input_size</span>
    <span class="p">)</span></pre>
<p>This module decodes the compressed data based on the snappy decompression format.</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-center">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>inStream</p></td>
<td><p>input stream</p></td>
</tr>
<tr class="row-even"><td><p>outStream</p></td>
<td><p>output stream</p></td>
</tr>
<tr class="row-odd"><td><p>input_size</p></td>
<td><p>input size</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="streamdownsizer">
<span id="cid-xf-compression-streamdownsizer"></span><span id="doxid-namespacexf-1-1compression-1af0dd6df2dd3def8fe03cf1bcb0242fea"></span><h2>streamDownsizer<a class="headerlink" href="#streamdownsizer" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;stream_downsizer.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="k">class</span> <span class="n">SIZE_DT</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">IN_WIDTH</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">OUT_WIDTH</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">streamDownsizer</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">IN_WIDTH</span><span class="o">&gt;&gt;&amp;</span> <span class="n">inStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">OUT_WIDTH</span><span class="o">&gt;&gt;&amp;</span> <span class="n">outStream</span><span class="p">,</span>
    <span class="n">SIZE_DT</span> <span class="n">input_size</span>
    <span class="p">)</span></pre>
<p>This module reads the IN_WIDTH size from the data stream and downsizes the data to OUT_WIDTH size and writes to output stream.</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-center">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>SIZE_DT</p></td>
<td><p>data size</p></td>
</tr>
<tr class="row-even"><td><p>IN_WIDTH</p></td>
<td><p>input width</p></td>
</tr>
<tr class="row-odd"><td><p>OUT_WIDTH</p></td>
<td><p>output width</p></td>
</tr>
<tr class="row-even"><td><p>inStream</p></td>
<td><p>input stream</p></td>
</tr>
<tr class="row-odd"><td><p>outStream</p></td>
<td><p>output stream</p></td>
</tr>
<tr class="row-even"><td><p>input_size</p></td>
<td><p>input size</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="streamdownsizerp2p">
<span id="cid-xf-compression-streamdownsizerp2p"></span><span id="doxid-namespacexf-1-1compression-1a6a8abb131866b2039b8a790cdb03b3ec"></span><h2>streamDownsizerP2P<a class="headerlink" href="#streamdownsizerp2p" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;stream_downsizer.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="k">class</span> <span class="n">SIZE_DT</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">IN_WIDTH</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">OUT_WIDTH</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">streamDownsizerP2P</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">IN_WIDTH</span><span class="o">&gt;&gt;&amp;</span> <span class="n">inStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">OUT_WIDTH</span><span class="o">&gt;&gt;&amp;</span> <span class="n">outStream</span><span class="p">,</span>
    <span class="n">SIZE_DT</span> <span class="n">input_size</span><span class="p">,</span>
    <span class="n">SIZE_DT</span> <span class="n">input_start_idx</span>
    <span class="p">)</span></pre>
<p>This module reads the IN_WIDTH size from the data stream and downsizes the data to OUT_WIDTH size and writes to output stream.</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-center">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>SIZE_DT</p></td>
<td><p>data size</p></td>
</tr>
<tr class="row-even"><td><p>IN_WIDTH</p></td>
<td><p>input width</p></td>
</tr>
<tr class="row-odd"><td><p>OUT_WIDTH</p></td>
<td><p>output width</p></td>
</tr>
<tr class="row-even"><td><p>inStream</p></td>
<td><p>input stream</p></td>
</tr>
<tr class="row-odd"><td><p>outStream</p></td>
<td><p>output stream</p></td>
</tr>
<tr class="row-even"><td><p>input_size</p></td>
<td><p>input size</p></td>
</tr>
<tr class="row-odd"><td><p>input_start_idx</p></td>
<td><p>input starting index</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="streamupsizer">
<span id="cid-xf-compression-streamupsizer"></span><span id="doxid-namespacexf-1-1compression-1af54dd9dffdf3f3c37bde15680737b3b1"></span><h2>streamUpsizer<a class="headerlink" href="#streamupsizer" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;stream_upsizer.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="k">class</span> <span class="n">SIZE_DT</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">IN_WIDTH</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">OUT_WIDTH</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">streamUpsizer</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">IN_WIDTH</span><span class="o">&gt;&gt;&amp;</span> <span class="n">inStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">OUT_WIDTH</span><span class="o">&gt;&gt;&amp;</span> <span class="n">outStream</span><span class="p">,</span>
    <span class="n">SIZE_DT</span> <span class="n">original_size</span>
    <span class="p">)</span></pre>
<p>This module reads IN_WIDTH from the input stream and accumulate the consecutive reads until OUT_WIDTH and writes the OUT_WIDTH data to output stream.</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-center">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>SIZE_DT</p></td>
<td><p>stream size class instance</p></td>
</tr>
<tr class="row-even"><td><p>IN_WIDTH</p></td>
<td><p>input data width</p></td>
</tr>
<tr class="row-odd"><td><p>OUT_WIDTH</p></td>
<td><p>output data width</p></td>
</tr>
<tr class="row-even"><td><p>inStream</p></td>
<td><p>input stream</p></td>
</tr>
<tr class="row-odd"><td><p>outStream</p></td>
<td><p>output stream</p></td>
</tr>
<tr class="row-even"><td><p>original_size</p></td>
<td><p>original stream size</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="upsizereos">
<span id="cid-xf-compression-upsizereos"></span><span id="doxid-namespacexf-1-1compression-1a36b991468a0b84916b936ba15b7bb28e"></span><h2>upsizerEos<a class="headerlink" href="#upsizereos" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;stream_upsizer.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="k">class</span> <span class="n">SIZE_DT</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">IN_WIDTH</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">OUT_WIDTH</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">upsizerEos</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">IN_WIDTH</span><span class="o">&gt;&gt;&amp;</span> <span class="n">inStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">inStream_eos</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">OUT_WIDTH</span><span class="o">&gt;&gt;&amp;</span> <span class="n">outStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">outStream_eos</span>
    <span class="p">)</span></pre>
<p>This module reads IN_WIDTH data from input stream based on end of stream and accumulate the consecutive reads until OUT_WIDTH and then writes OUT_WIDTH data to output stream.</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-center">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>SIZE_DT</p></td>
<td><p>stream size class instance</p></td>
</tr>
<tr class="row-even"><td><p>IN_WIDTH</p></td>
<td><p>input data width</p></td>
</tr>
<tr class="row-odd"><td><p>OUT_WIDTH</p></td>
<td><p>output data width</p></td>
</tr>
<tr class="row-even"><td><p>inStream</p></td>
<td><p>input stream</p></td>
</tr>
<tr class="row-odd"><td><p>inStream_eos</p></td>
<td><p>input end of stream flag</p></td>
</tr>
<tr class="row-even"><td><p>outStream</p></td>
<td><p>output stream</p></td>
</tr>
<tr class="row-odd"><td><p>outStream_eos</p></td>
<td><p>output end of stream flag</p></td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo" class="copyright">
    <p>
        
        &copy; Copyright 2019, Xilinx

    </p>
  </div>
<!--
    
    
      Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 
-->
</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>