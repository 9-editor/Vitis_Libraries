

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta content="Vitis, Library, Data Compression, Xilinx, LZ Compress, LZ4 Compression, LZ4 Decompression, Huffman Encoder, Huffman Decoder, ZLIB Compression, ZLIB Decompression, GZip Compression, GZip Decompression." name="keywords" />
<meta content="Vitis Data Compression Library L1 Level API reference. API developed in this section are pure hardware level modules" name="description" />
<meta content="Document" name="xlnxdocumentclass" />
<meta content="Tutorials" name="xlnxdocumenttype" />

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- Header information provided by Emily-->
    <meta name="Language" content="en">
    <meta name="Location" content="us">
    <link rel="icon" type="image/vnd.microsoft.icon" href="https://www.xilinx.com/etc.clientlibs/site/clientlibs/xilinx/all/resources/favicon.ico">
    <link rel="shortcut icon" type="image/vnd.microsoft.icon" href="https://www.xilinx.com/etc.clientlibs/site/clientlibs/xilinx/all/resources/favicon.ico">
  
  <title>Primitive APIs in xf::compression &mdash; Vitis Data Compression Library v2019.2 documentation</title>
  
<!-- Header information provided by Emily-->
    <meta name="apple-itunes-app" content="app-id=1063287962">
    <meta name="google-play-app" content="app-id=com.marketing.xilinxgo">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <script src="https://kit.fontawesome.com/d3dd8c60ed.js"></script>
    
    <link rel="stylesheet" href="https://www.xilinx.com/etc.clientlibs/clientlibs/granite/jquery-ui.min.css" type="text/css">
    <link rel="stylesheet" href="https://www.xilinx.com/etc.clientlibs/site/clientlibs/xilinx/header-footer.min.css" type="text/css">
    <link rel="stylesheet" href="https://www.xilinx.com/etc.clientlibs/site/clientlibs/xilinx/all.min.css" type="text/css">
    
    <script type="text/javascript" src="https://www.xilinx.com/etc.clientlibs/clientlibs/granite/jquery.min.js"></script>
    <script type="text/javascript" src="https://www.xilinx.com/etc.clientlibs/clientlibs/granite/jquery-ui.min.js"></script>
    <script type="text/javascript" src="https://www.xilinx.com/etc.clientlibs/site/clientlibs/xilinx/header-footer.min.js"></script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet" type="text/css">
  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="L2 Kernel User Guide" href="../L2/L2.html" />
    <link rel="prev" title="Primitive Overview" href="overview.html" /> 
</head>

<body class="wy-body-for-nav">
<div class="xilinx-bs3">
    <noindex>
        <header data-component="header">
            <nav class="navbar navbar-default">
                <div class="container main-nav">
                    <div class="row">
                        <div class="col-xs-5 col-sm-2 logo-column">
                            <div class="logo">
                                <a href="https://www.xilinx.com/">
                                    <img src="https://www.xilinx.com/etc.clientlibs/site/clientlibs/xilinx/all/resources/imgs/header/xilinx-header-logo.svg" title="Xilinx Inc" />
                                </a>
                            </div>
                        </div>
                        <div class="col-xs-12 col-sm-8 navbar-column">
                            <div class="navbar navbar-collapse collapse" id="xilinx-main-menu">
                                <ul class="nav navbar-nav nav-justified">
                                    <li class="accordion-toggle-icons" data-component="toggle-dropdown">
                                        <a href="https://developer.xilinx.com/">
                                            Developers
                                        </a>
                                    </li>
                                    <li class="accordion-toggle-icons" data-component="toggle-dropdown">
                                        <a href="https://www.xilinx.com/support.html">
                                            Support
                                        </a>
                                    </li>
                                    <li class="accordion-toggle-icons" data-component="toggle-dropdown">
                                        <a href="https://forums.xilinx.com/">
                                            Forums
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="mini-nav col-sm-2">
                            <button type="button" data-function="xilinx-mobile-menu" id="nav-toggle" class="navbar-toggle collapsed visible-xs-block" aria-expanded="false">
                                <span></span>
                                <span></span>
                                <span></span>
                                <span></span>
                            </button>
                        </div>
                    </div>
                </div>
            </nav>
        </header>
    </noindex>
</div>
   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> Vitis Data Compression Library
          

          
          </a>

          
            
            
              <div class="version">
                2019.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Library Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview.html#license">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview.html#trademark-notice">Trademark Notice</a></li>
</ul>
<p class="caption"><span class="caption-text">User Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../usecase.html">Typical Use Cases</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="L1.html">L1 Module User Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="overview.html">Primitive Overview</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Primitive APIs in <code class="docutils literal notranslate"><span class="pre">xf::compression</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#huffmandecoderfixed">huffmanDecoderFixed</a></li>
<li class="toctree-l3"><a class="reference internal" href="#huffmandecoderdynamic">huffmanDecoderDynamic</a></li>
<li class="toctree-l3"><a class="reference internal" href="#huffmandecoderfull">huffmanDecoderFull</a></li>
<li class="toctree-l3"><a class="reference internal" href="#huffmanencoder">huffmanEncoder</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lz4compress">lz4Compress</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lz4decompress">lz4Decompress</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lz4packer">lz4Packer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lzdecompress">lzDecompress</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lzbestmatchfilter">lzBestMatchFilter</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lzbooster">lzBooster</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lzfilter">lzFilter</a></li>
<li class="toctree-l3"><a class="reference internal" href="#snappycompress">snappyCompress</a></li>
<li class="toctree-l3"><a class="reference internal" href="#snappydecompress">snappyDecompress</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../L2/L2.html">L2 Kernel User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L3/L3.html">L3 Overlay User Guide</a></li>
</ul>
<p class="caption"><span class="caption-text">Benchmark Results</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../results.html">Benchmark Results</a></li>
</ul>

            
			<p class="caption"><span class="caption-text">This Page</span></p>
				<ul class="current">
				  <li class="toctree-l1"><a href="../../_sources/source/L1/api_reference.rst.txt"
						rel="nofollow">Show Source</a></li>						
				</ul>
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Vitis Data Compression Library</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="L1.html">L1 Module User Guide</a> &raquo;</li>
        
      <li>Primitive APIs in <code class="docutils literal notranslate"><span class="pre">xf::compression</span></code></li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/source/L1/api_reference.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="primitive-apis-in-xf-compression">
<span id="l1-api-reference"></span><h1>Primitive APIs in <code class="docutils literal notranslate"><span class="pre">xf::compression</span></code><a class="headerlink" href="#primitive-apis-in-xf-compression" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="huffmandecoderfixed">
<span id="cid-xf-compression-huffmandecoderfixed"></span><span id="doxid-namespacexf-1-1compression-1ad15267154c288ef7ae702ac1ebde84ea"></span><h2>huffmanDecoderFixed<a class="headerlink" href="#huffmandecoderfixed" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;huffman_decoder.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="kt">void</span> <span class="n">huffmanDecoderFixed</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">16</span><span class="o">&gt;&gt;&amp;</span> <span class="n">inStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">compressd_dt</span><span class="o">&gt;&amp;</span> <span class="n">outStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">endOfStream</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">input_size</span>
    <span class="p">)</span></pre>
<p>This module is ZLIB/GZIP Fixed Huffman Decoder. It takes ZLIB/GZIP Huffman encoded data as input and generates decoded data in LZ77 format (literal, length, offset)</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>inStream</p></td>
<td><p>input bit packed data</p></td>
</tr>
<tr class="row-even"><td><p>outStream</p></td>
<td><p>output lz77 compressed output in the form of 32bit packets (Literals, Match Length, Distances)</p></td>
</tr>
<tr class="row-odd"><td><p>endOfStream</p></td>
<td><p>output completion of execution</p></td>
</tr>
<tr class="row-even"><td><p>input_size</p></td>
<td><p>input data size</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="huffmandecoderdynamic">
<span id="cid-xf-compression-huffmandecoderdynamic"></span><span id="doxid-namespacexf-1-1compression-1aee0ea85eed03e63e3c5fe660405b613b"></span><h2>huffmanDecoderDynamic<a class="headerlink" href="#huffmandecoderdynamic" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;huffman_decoder.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="k">template</span> <span class="o">&lt;</span><span class="kt">int</span> <span class="n">ByteGenLoopII</span> <span class="o">=</span> <span class="mi">2</span><span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">huffmanDecoderDynamic</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">16</span><span class="o">&gt;&gt;&amp;</span> <span class="n">inStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">compressd_dt</span><span class="o">&gt;&amp;</span> <span class="n">outStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">endOfStream</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">input_size</span>
    <span class="p">)</span></pre>
<p>This module is ZLIB/GZIP Dynamic Huffman Decoder. It takes ZLIB/GZIP Huffman encoded data as input and generates decoded data in LZ77 format(literal, length, offset).</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>inStream</p></td>
<td><p>input bit packed data</p></td>
</tr>
<tr class="row-even"><td><p>outStream</p></td>
<td><p>output lz77 compressed output in the form of 32bit packets (Literals, Match Length, Distances)</p></td>
</tr>
<tr class="row-odd"><td><p>endOfStream</p></td>
<td><p>output completion of execution</p></td>
</tr>
<tr class="row-even"><td><p>input_size</p></td>
<td><p>input data size</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="huffmandecoderfull">
<span id="cid-xf-compression-huffmandecoderfull"></span><span id="doxid-namespacexf-1-1compression-1a88c7124ebbf360c1576f655e3be06c5d"></span><h2>huffmanDecoderFull<a class="headerlink" href="#huffmandecoderfull" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;huffman_decoder.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="kt">void</span> <span class="n">huffmanDecoderFull</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">16</span><span class="o">&gt;&gt;&amp;</span> <span class="n">inStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">compressd_dt</span><span class="o">&gt;&amp;</span> <span class="n">outStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">endOfStream</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">input_size</span>
    <span class="p">)</span></pre>
<p>This module is ZLIB/GZIP Fixed, Dynamic and Stored block supported decoder. It takes ZLIB/GZIP Huffman encoded data as input and generates decoded data in LZ77 format (Literal, Length, Offset).</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>inStream</p></td>
<td><p>input bit packed data</p></td>
</tr>
<tr class="row-even"><td><p>outStream</p></td>
<td><p>output lz77 compressed output in the form of 32bit packets (Literals, Match Length, Distances)</p></td>
</tr>
<tr class="row-odd"><td><p>endOfStream</p></td>
<td><p>output completion of execution</p></td>
</tr>
<tr class="row-even"><td><p>input_size</p></td>
<td><p>input data size</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="huffmanencoder">
<span id="cid-xf-compression-huffmanencoder"></span><span id="doxid-namespacexf-1-1compression-1af3c2a027756e654bd32b66dd3535c374"></span><h2>huffmanEncoder<a class="headerlink" href="#huffmanencoder" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;huffman_encoder.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="kt">void</span> <span class="n">huffmanEncoder</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">encodedV_dt</span><span class="o">&gt;&amp;</span> <span class="n">inStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">uint16_t</span><span class="o">&gt;&amp;</span> <span class="n">outStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">uint8_t</span><span class="o">&gt;&amp;</span> <span class="n">outStreamSize</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">input_size</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">uint32_t</span><span class="o">&gt;&amp;</span> <span class="n">inStreamLCodes</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">uint32_t</span><span class="o">&gt;&amp;</span> <span class="n">inStreamLBlen</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">uint32_t</span><span class="o">&gt;&amp;</span> <span class="n">inStreamDCodes</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">uint32_t</span><span class="o">&gt;&amp;</span> <span class="n">inStreamDBlen</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">uint32_t</span><span class="o">&gt;&amp;</span> <span class="n">inStreamBLCodes</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">uint32_t</span><span class="o">&gt;&amp;</span> <span class="n">inStreamBLBlen</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">uint32_t</span><span class="o">&gt;&amp;</span> <span class="n">inStreamMaxCode</span>
    <span class="p">)</span></pre>
<p>This module does zlib/gzip dynamic huffman encoding.</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>inStream</p></td>
<td><p>input packet of 32bit size which contains either literal or match length and distance information. Example: [Literal (1 Byte) | ML (1 Byte) | DIST (2 Bytes)]</p></td>
</tr>
<tr class="row-even"><td><p>outStream</p></td>
<td><p>output bit encoded LZ77 compressed data</p></td>
</tr>
<tr class="row-odd"><td><p>outStreamSize</p></td>
<td><p>output Stream Size</p></td>
</tr>
<tr class="row-even"><td><p>input_size</p></td>
<td><p>uncompressed data input size</p></td>
</tr>
<tr class="row-odd"><td><p>inStreamLCodes</p></td>
<td><p>Huffman Literal Codes</p></td>
</tr>
<tr class="row-even"><td><p>inStreamLBLen</p></td>
<td><p>Huffman Literal Code Bit Lengths</p></td>
</tr>
<tr class="row-odd"><td><p>inStreamDCodes</p></td>
<td><p>Huffman Distance Codes</p></td>
</tr>
<tr class="row-even"><td><p>inStreamDBLen</p></td>
<td><p>Huffman Distance Code Bit Lengths</p></td>
</tr>
<tr class="row-odd"><td><p>inStreamBLCodes</p></td>
<td><p>Huffman BitLength Codes</p></td>
</tr>
<tr class="row-even"><td><p>inStreamBLCodes</p></td>
<td><p>Huffman BitLength Code Bit Lengths</p></td>
</tr>
<tr class="row-odd"><td><p>inStreamMaxCode</p></td>
<td><p>Maximum codes for literal, distance and bitlengths</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="lz4compress">
<span id="cid-xf-compression-lz4compress"></span><span id="doxid-namespacexf-1-1compression-1a962b32f6f806f0b719eace7032403e58"></span><h2>lz4Compress<a class="headerlink" href="#lz4compress" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;lz4_compress.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">MAX_LIT_COUNT</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">PARALLEL_UNITS</span>
    <span class="o">&gt;</span>
<span class="k">static</span> <span class="kt">void</span> <span class="n">lz4Compress</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">compressd_dt</span><span class="o">&gt;&amp;</span> <span class="n">inStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">&gt;&gt;&amp;</span> <span class="n">outStream</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">max_lit_limit</span> <span class="p">[</span><span class="n">PARALLEL_UNITS</span><span class="p">],</span>
    <span class="kt">uint32_t</span> <span class="n">input_size</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">endOfStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">uint32_t</span><span class="o">&gt;&amp;</span> <span class="n">compressdSizeStream</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">index</span>
    <span class="p">)</span></pre>
<p>This is the core compression module which seperates the input stream into two output streams, one literal stream and other offset stream, then lz4 encoding is done.</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>inStream</p></td>
<td><p>Input data stream</p></td>
</tr>
<tr class="row-even"><td><p>outStream</p></td>
<td><p>Output data stream</p></td>
</tr>
<tr class="row-odd"><td><p>max_lit_limit</p></td>
<td><p>Size for compressed stream</p></td>
</tr>
<tr class="row-even"><td><p>input_size</p></td>
<td><p>Size of input data</p></td>
</tr>
<tr class="row-odd"><td><p>endOfStream</p></td>
<td><p>Stream indicating that all data is processed or not</p></td>
</tr>
<tr class="row-even"><td><p>compressdSizeStream</p></td>
<td><p>Gives the compressed size for each 64K block</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="lz4decompress">
<span id="cid-xf-compression-lz4decompress"></span><span id="doxid-namespacexf-1-1compression-1a1710109f73f8732aa47f9f32ce48ffb1"></span><h2>lz4Decompress<a class="headerlink" href="#lz4decompress" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;lz4_decompress.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="kt">void</span> <span class="n">lz4Decompress</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">&gt;&gt;&amp;</span> <span class="n">inStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">compressd_dt</span><span class="o">&gt;&amp;</span> <span class="n">outStream</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">input_size</span>
    <span class="p">)</span></pre>
<p>This module reads the compressed data from input stream and decodes the offset, match length and literals by processing in various decompress states.</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>inStream</p></td>
<td><p>Input stream 8bit</p></td>
</tr>
<tr class="row-even"><td><p>outStream</p></td>
<td><p>Output stream 32bit</p></td>
</tr>
<tr class="row-odd"><td><p>input_size</p></td>
<td><p>Input size</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="lz4packer">
<span id="cid-xf-compression-lz4packer"></span><span id="doxid-namespacexf-1-1compression-1ad21d5c05bffdeb0f0c658a6da1d082e2"></span><h2>lz4Packer<a class="headerlink" href="#lz4packer" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;lz4_packer.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">PACK_WIDTH</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">PARLLEL_BYTE</span>
    <span class="o">&gt;</span>
<span class="kt">uint32_t</span> <span class="n">lz4Packer</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">PACK_WIDTH</span><span class="o">&gt;&gt;&amp;</span> <span class="n">inStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="n">PACK_WIDTH</span><span class="o">&gt;&gt;&amp;</span> <span class="n">outStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">uint32_t</span><span class="o">&gt;&amp;</span> <span class="n">inStreamSize</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">uint32_t</span><span class="o">&gt;&amp;</span> <span class="n">outStreamSize</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">block_size_in_kb</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">no_blocks</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">head_res_size</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">tail_bytes</span>
    <span class="p">)</span></pre>
<p>Lz4 packer module packs the compressed data.</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>PACK_WIDTH</p></td>
<td><p>packed data width</p></td>
</tr>
<tr class="row-even"><td><p>PARLLEL_BYTE</p></td>
<td><p>parallel byte count</p></td>
</tr>
<tr class="row-odd"><td><p>inStream</p></td>
<td><p>input data</p></td>
</tr>
<tr class="row-even"><td><p>outStream</p></td>
<td><p>output data</p></td>
</tr>
<tr class="row-odd"><td><p>inStreamSize</p></td>
<td><p>size of the data in input stream</p></td>
</tr>
<tr class="row-even"><td><p>outStreamSize</p></td>
<td><p>ouput data size</p></td>
</tr>
<tr class="row-odd"><td><p>block_size_in_kb</p></td>
<td><p>block size</p></td>
</tr>
<tr class="row-even"><td><p>no_blocks</p></td>
<td><p>number of input blocks</p></td>
</tr>
<tr class="row-odd"><td><p>head_res_size</p></td>
<td><p>header size</p></td>
</tr>
<tr class="row-even"><td><p>tail_bytes</p></td>
<td><p>enabled for last block to handle final data</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="lzdecompress">
<span id="cid-xf-compression-lzdecompress"></span><span id="doxid-namespacexf-1-1compression-1a84b84bad9a40b756398bbf80bf4ed817"></span><h2>lzDecompress<a class="headerlink" href="#lzdecompress" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;lz_decompress.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">HISTORY_SIZE</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">LOW_OFFSET</span> <span class="o">=</span> <span class="mi">8</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">lzDecompress</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">compressd_dt</span><span class="o">&gt;&amp;</span> <span class="n">inStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">&gt;&gt;&amp;</span> <span class="n">outStream</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">original_size</span>
    <span class="p">)</span></pre>
<p>This module writes the literals to the output stream as it is and when match length and offset are read, the literals will be read from the local dictionary based on offset until match length.</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>LOW_OFFSET</p></td>
<td><p>low offset</p></td>
</tr>
<tr class="row-even"><td><p>HISTORY_SIZE</p></td>
<td><p>history size</p></td>
</tr>
<tr class="row-odd"><td><p>inStream</p></td>
<td><p>input stream</p></td>
</tr>
<tr class="row-even"><td><p>outStream</p></td>
<td><p>output stream</p></td>
</tr>
<tr class="row-odd"><td><p>original_size</p></td>
<td><p>original size</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="lzbestmatchfilter">
<span id="cid-xf-compression-lzbestmatchfilter"></span><span id="doxid-namespacexf-1-1compression-1ad607c4532afbc791230dacdb4a3e4b47"></span><h2>lzBestMatchFilter<a class="headerlink" href="#lzbestmatchfilter" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;lz_optional.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">MATCH_LEN</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">OFFSET_WINDOW</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">lzBestMatchFilter</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">compressd_dt</span><span class="o">&gt;&amp;</span> <span class="n">inStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">compressd_dt</span><span class="o">&gt;&amp;</span> <span class="n">outStream</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">input_size</span>
    <span class="p">)</span></pre>
<p>Objective of this module is to pick character with higher match length in the offset window range.</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>inStream</p></td>
<td><p>input stream</p></td>
</tr>
<tr class="row-even"><td><p>outStream</p></td>
<td><p>output stream</p></td>
</tr>
<tr class="row-odd"><td><p>input_size</p></td>
<td><p>input stream size</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="lzbooster">
<span id="cid-xf-compression-lzbooster"></span><span id="doxid-namespacexf-1-1compression-1a6581bf0d1520d5c2f6787f1f4e14b6df"></span><h2>lzBooster<a class="headerlink" href="#lzbooster" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;lz_optional.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">MAX_MATCH_LEN</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">BOOSTER_OFFSET_WINDOW</span> <span class="o">=</span> <span class="mi">16</span> <span class="o">*</span> <span class="mi">1024</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">LEFT_BYTES</span> <span class="o">=</span> <span class="mi">64</span>
    <span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">lzBooster</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">compressd_dt</span><span class="o">&gt;&amp;</span> <span class="n">inStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">compressd_dt</span><span class="o">&gt;&amp;</span> <span class="n">outStream</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">input_size</span>
    <span class="p">)</span></pre>
<p>This module helps in improving the compression ratio. Finds a better match length by performing more character matches with supported max match, while maintaining an offset window. Booster offset Window template argument (default value is 16K) internally consume BRAM memory to implement history window. Higher the booster value can give better compression ratio but will consume more BRAM resources.</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>MAX_MATCH_LEN</p></td>
<td><p>maximum length allowed for character match</p></td>
</tr>
<tr class="row-even"><td><p>BOOSTER_OFFSET_WINDOW</p></td>
<td><p>offset window to store/match the character</p></td>
</tr>
<tr class="row-odd"><td><p>inStream</p></td>
<td><p>input stream 32bit per read</p></td>
</tr>
<tr class="row-even"><td><p>outStream</p></td>
<td><p>output stream 32bit per write</p></td>
</tr>
<tr class="row-odd"><td><p>input_size</p></td>
<td><p>input size</p></td>
</tr>
<tr class="row-even"><td><p>left_bytes</p></td>
<td><p>last 64 left over bytes</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="lzfilter">
<span id="cid-xf-compression-lzfilter"></span><span id="doxid-namespacexf-1-1compression-1ac0c1dcfe12378a9f842d91e7ffac6b1f"></span><h2>lzFilter<a class="headerlink" href="#lzfilter" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;lz_optional.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="k">template</span> <span class="o">&lt;</span><span class="kt">int</span> <span class="n">LEFT_BYTES</span> <span class="o">=</span> <span class="mi">64</span><span class="o">&gt;</span>
<span class="k">static</span> <span class="kt">void</span> <span class="n">lzFilter</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">compressd_dt</span><span class="o">&gt;&amp;</span> <span class="n">inStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">compressd_dt</span><span class="o">&gt;&amp;</span> <span class="n">outStream</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">input_size</span>
    <span class="p">)</span></pre>
<p>This module checks if match length exists, and if match length exists it filters the match length -1 characters writing to output stream.</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>MATCH_LEN</p></td>
<td><p>length of matched segment</p></td>
</tr>
<tr class="row-even"><td><p>OFFSET_WINDOW</p></td>
<td><p>output window</p></td>
</tr>
<tr class="row-odd"><td><p>inStream</p></td>
<td><p>input stream</p></td>
</tr>
<tr class="row-even"><td><p>outStream</p></td>
<td><p>output stream</p></td>
</tr>
<tr class="row-odd"><td><p>input_size</p></td>
<td><p>input stream size</p></td>
</tr>
<tr class="row-even"><td><p>left_bytes</p></td>
<td><p>bytes left in block</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="snappycompress">
<span id="cid-xf-compression-snappycompress"></span><span id="doxid-namespacexf-1-1compression-1a50c550d35cca12ab19b45f2162220162"></span><h2>snappyCompress<a class="headerlink" href="#snappycompress" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;snappy_compress.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="k">template</span> <span class="o">&lt;</span>
    <span class="kt">int</span> <span class="n">MAX_LIT_COUNT</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">MAX_LIT_STREAM_SIZE</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">PARALLEL_UNITS</span>
    <span class="o">&gt;</span>
<span class="k">static</span> <span class="kt">void</span> <span class="n">snappyCompress</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">compressd_dt</span><span class="o">&gt;&amp;</span> <span class="n">inStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">ap_uint</span> <span class="o">&lt;</span><span class="mi">8</span><span class="o">&gt;&gt;&amp;</span> <span class="n">outStream</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">max_lit_limit</span> <span class="p">[</span><span class="n">PARALLEL_UNITS</span><span class="p">],</span>
    <span class="kt">uint32_t</span> <span class="n">input_size</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&amp;</span> <span class="n">endOfStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="kt">uint32_t</span><span class="o">&gt;&amp;</span> <span class="n">compressdSizeStream</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">index</span>
    <span class="p">)</span></pre>
<p>This is the core compression module which seperates the input stream into two output streams, one literal stream and other offset stream, then encoding is done based on the snappy algorithm.</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>inStream</p></td>
<td><p>Input data stream</p></td>
</tr>
<tr class="row-even"><td><p>outStream</p></td>
<td><p>Output data stream</p></td>
</tr>
<tr class="row-odd"><td><p>max_lit_limit</p></td>
<td><p>Size for compressed stream</p></td>
</tr>
<tr class="row-even"><td><p>input_size</p></td>
<td><p>Size of input data</p></td>
</tr>
<tr class="row-odd"><td><p>endOfStream</p></td>
<td><p>Stream indicating that all data is processed or not</p></td>
</tr>
<tr class="row-even"><td><p>compressdSizeStream</p></td>
<td><p>Gives the compressed size for each 64K block</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="snappydecompress">
<span id="cid-xf-compression-snappydecompress"></span><span id="doxid-namespacexf-1-1compression-1afaff624736a65e4b128f3ebc325c1a03"></span><h2>snappyDecompress<a class="headerlink" href="#snappydecompress" title="Permalink to this headline">¶</a></h2>
<pre class="highlight literal-block"><span></span><span class="cp">#include</span> <span class="cpf">&quot;snappy_decompress.hpp&quot;</span></pre>
<pre class="highlight title-code-block literal-block"><span></span><span class="k">static</span> <span class="kt">void</span> <span class="n">snappyDecompress</span> <span class="p">(</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">uintV_t</span><span class="o">&gt;&amp;</span> <span class="n">inStream</span><span class="p">,</span>
    <span class="n">hls</span><span class="o">::</span><span class="n">stream</span> <span class="o">&lt;</span><span class="n">encoded_dt</span><span class="o">&gt;&amp;</span> <span class="n">outStream</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">input_size</span>
    <span class="p">)</span></pre>
<p>This module decodes the compressed data based on the snappy decompression format.</p>
<p class="rubric">Parameters:</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>inStream</p></td>
<td><p>input stream</p></td>
</tr>
<tr class="row-even"><td><p>outStream</p></td>
<td><p>output stream</p></td>
</tr>
<tr class="row-odd"><td><p>input_size</p></td>
<td><p>input data size</p></td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../L2/L2.html" class="btn btn-neutral float-right" title="L2 Kernel User Guide" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="overview.html" class="btn btn-neutral float-left" title="Primitive Overview" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo" class="copyright">
    <p>
        
        &copy; Copyright 2019, Xilinx

    </p>
  </div>
<!--
    
    
      Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 
-->
</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>