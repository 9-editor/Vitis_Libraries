

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="keywords" content="Vitis, library, Database, Quantitative Finance, Vision, Data Compression, Security, Solver, BLAS, Hardware, xfOpenCV, xfdatabase, xffintech, xfcompression, xfsecurity, xfsolver, xfblas, xfhardware"/>
<meta name="description" content="Vitis software development platform includes an extensive set of open-source, performance-optimized libraries that offer out-of-the-box acceleration with minimal to zero-code changes to your existing applications, without the need to reimplement your algorithms from scratch to harness the benefits of Xilinx adaptive compute."/>
<meta name="xlnxdocumentclass" content="Document"> 
<meta name="xlnxdocumenttypes" content="Tutorials"> 
<!-- Header information provided by Emily-->
    <meta name="Language" content="en">
    <meta name="Location" content="us">
    <link rel="icon" type="image/vnd.microsoft.icon" href="https://www.xilinx.com/etc.clientlibs/site/clientlibs/xilinx/all/resources/favicon.ico">
    <link rel="shortcut icon" type="image/vnd.microsoft.icon" href="https://www.xilinx.com/etc.clientlibs/site/clientlibs/xilinx/all/resources/favicon.ico">
  
  <title>Benchmark of European Option Pricing Engine &mdash; Vitis Quantitative Finance Library v2019.2 documentation</title>
  
<!-- Header information provided by Emily-->
    <meta name="apple-itunes-app" content="app-id=1063287962">
    <meta name="google-play-app" content="app-id=com.marketing.xilinxgo">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <script src="https://kit.fontawesome.com/d3dd8c60ed.js"></script>
    
    <link rel="stylesheet" href="https://www.xilinx.com/etc.clientlibs/clientlibs/granite/jquery-ui.min.css" type="text/css">
    <link rel="stylesheet" href="https://www.xilinx.com/etc.clientlibs/site/clientlibs/xilinx/header-footer.min.css" type="text/css">
    <link rel="stylesheet" href="https://www.xilinx.com/etc.clientlibs/site/clientlibs/xilinx/all.min.css" type="text/css">
    
    <script type="text/javascript" src="https://www.xilinx.com/etc.clientlibs/clientlibs/granite/jquery.min.js"></script>
    <script type="text/javascript" src="https://www.xilinx.com/etc.clientlibs/clientlibs/granite/jquery-ui.min.js"></script>
    <script type="text/javascript" src="https://www.xilinx.com/etc.clientlibs/site/clientlibs/xilinx/header-footer.min.js"></script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet" type="text/css">
  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Benchmark of American Option Pricing Engine" href="MCAmericanEngine.html" />
    <link rel="prev" title="Pricing Engines Demo" href="../kernel_benchmark.html" /> 
</head>

<body class="wy-body-for-nav">
<div class="xilinx-bs3">
    <noindex>
        <header data-component="header">
            <nav class="navbar navbar-default">
                <div class="container main-nav">
                    <div class="row">
                        <div class="col-xs-5 col-sm-2 logo-column">
                            <div class="logo">
                                <a href="https://www.xilinx.com/">
                                    <img src="https://www.xilinx.com/etc.clientlibs/site/clientlibs/xilinx/all/resources/imgs/header/xilinx-header-logo.svg" title="Xilinx Inc" />
                                </a>
                            </div>
                        </div>
                        <div class="col-xs-12 col-sm-8 navbar-column">
                            <div class="navbar navbar-collapse collapse" id="xilinx-main-menu">
                                <ul class="nav navbar-nav nav-justified">
                                    <li class="accordion-toggle-icons" data-component="toggle-dropdown">
                                        <a href="https://developer.xilinx.com/">
                                            Developers
                                        </a>
                                    </li>
                                    <li class="accordion-toggle-icons" data-component="toggle-dropdown">
                                        <a href="https://www.xilinx.com/support.html">
                                            Support
                                        </a>
                                    </li>
                                    <li class="accordion-toggle-icons" data-component="toggle-dropdown">
                                        <a href="https://forums.xilinx.com/">
                                            Forums
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="mini-nav col-sm-2">
                            <button type="button" data-function="xilinx-mobile-menu" id="nav-toggle" class="navbar-toggle collapsed visible-xs-block" aria-expanded="false">
                                <span></span>
                                <span></span>
                                <span></span>
                                <span></span>
                            </button>
                        </div>
                    </div>
                </div>
            </nav>
        </header>
    </noindex>
</div>
   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> Vitis Quantitative Finance Library
          

          
          </a>

          
            
            
              <div class="version">
                2019.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Library Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../overview.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../overview.html#license">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../overview.html#trademark-notice">Trademark Notice</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rel.html">Release Note</a></li>
</ul>
<p class="caption"><span class="caption-text">User Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../models_and_methods.html">Pricing Models and Numerical Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guide_L1/L1.html">L1 Module User Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../L2.html">L2 Kernel User Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../overview.html">Pricing Engine Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kernel_design.html">Pricing Engine Kernel Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kernel_api.html">Pricing Engine Kernel APIs</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../kernel_benchmark.html">Pricing Engines Demo</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Benchmark of European Option Pricing Engine</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#highlights">Highlights</a></li>
<li class="toctree-l4"><a class="reference internal" href="#profiling">Profiling</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="MCAmericanEngine.html">Benchmark of American Option Pricing Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="TreeEngine.html">Benchmark of Tree Engine</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../other_engines.html">Other Engine Kernel Design</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../guide_L3/L3.html">L3 Overlay User Guide</a></li>
</ul>
<p class="caption"><span class="caption-text">Benchmark Result</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../benchmark/benchmark.html">Quality and Performance</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Vitis Quantitative Finance Library</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../L2.html">L2 Kernel User Guide</a> &raquo;</li>
        
          <li><a href="../kernel_benchmark.html">Pricing Engines Demo</a> &raquo;</li>
        
      <li>Benchmark of European Option Pricing Engine</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="benchmark-of-european-option-pricing-engine">
<h1>Benchmark of European Option Pricing Engine<a class="headerlink" href="#benchmark-of-european-option-pricing-engine" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>This is a benchmark of MC (Monte-Carlo) European Engine using the Xilinx Vitis environment to compare with QuantLib.  It supports software and hardware emulation as well as running the hardware accelerator on the Alveo U250.</p>
</div>
<div class="section" id="highlights">
<h2>Highlights<a class="headerlink" href="#highlights" title="Permalink to this headline">¶</a></h2>
<p>The performance of the MCEuropeanEngine is shown in the table below, our cold run has 488X and warm run has 1954X compared to baseline.
Baseline is Quantlib, a Widely Used C++ Open Source Library, running on platform with 2 Intel(R) Xeon(R) CPU E5-2690 v4 &#64;3.20GHz, 8 cores per processor and 2 threads per core.</p>
<span id="tab-mcee-execution-time"></span><table border="1" class="docutils" id="id1">
<caption><span class="caption-number">Table 13 </span><span class="caption-text">Performance</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="38%" />
<col width="26%" />
<col width="35%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td rowspan="2">Platform</td>
<td colspan="2">Execution time</td>
</tr>
<tr class="row-even"><td>cold run</td>
<td>warm run</td>
</tr>
<tr class="row-odd"><td>Baseline</td>
<td>20.155ms</td>
<td>20.155ms</td>
</tr>
<tr class="row-even"><td>Runtime on U250</td>
<td>0.053ms</td>
<td>0.01325ms</td>
</tr>
<tr class="row-odd"><td>Accelaration Ratio</td>
<td>380X</td>
<td>1521X</td>
</tr>
</tbody>
</table>
<span id="tab-mcee-input-parameter"></span><table border="1" class="docutils" id="id2">
<caption><span class="caption-number">Table 14 </span><span class="caption-text">Application Scenario</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="35%" />
<col width="65%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Option Type</td>
<td>put</td>
</tr>
<tr class="row-even"><td>strike</td>
<td>40</td>
</tr>
<tr class="row-odd"><td>underlying</td>
<td>36</td>
</tr>
<tr class="row-even"><td>risk-free rate</td>
<td>6%</td>
</tr>
<tr class="row-odd"><td>volatility</td>
<td>20%</td>
</tr>
<tr class="row-even"><td>dividend yield</td>
<td>0</td>
</tr>
<tr class="row-odd"><td>maturity</td>
<td>1 year</td>
</tr>
<tr class="row-even"><td>tolerance</td>
<td>0.02</td>
</tr>
<tr class="row-odd"><td>workload</td>
<td>1 steps, 47000 paths</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="profiling">
<h2>Profiling<a class="headerlink" href="#profiling" title="Permalink to this headline">¶</a></h2>
<p>The resource utilization and performance of MCEuropeanEngine on U250 FPGA card is listed in the following tables (with Vivado 2018.3).
There are 4 PUs on Alveo U250 to pricing the option in parallel.  Each PU have the same resource utilization.</p>
<span id="tab-mcee-resource"></span><table border="1" class="docutils align-center" id="id3">
<caption><span class="caption-number">Table 15 </span><span class="caption-text">Resource utilization report of European Option APIs on U250</span><a class="headerlink" href="#id3" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="19%" />
<col width="35%" />
<col width="10%" />
<col width="11%" />
<col width="8%" />
<col width="8%" />
<col width="9%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Implemetation</td>
<td>Kernels</td>
<td>LUT</td>
<td>FF</td>
<td>BRAM</td>
<td>URAM</td>
<td>DSP</td>
</tr>
<tr class="row-even"><td>1 PU</td>
<td>kernel_mc_0 (UN config:8)</td>
<td>234072</td>
<td>376207</td>
<td>49</td>
<td>0</td>
<td>1594</td>
</tr>
<tr class="row-odd"><td>4 PUs</td>
<td>kernel_mc_0
kernel_mc_1
kernel_mc_2
kernel_mc_3</td>
<td>936288</td>
<td>1504828</td>
<td>196</td>
<td>0</td>
<td>6376</td>
</tr>
<tr class="row-even"><td colspan="2">total resource of board</td>
<td>1728000</td>
<td>3456000</td>
<td>2688</td>
<td>1280</td>
<td>12288</td>
</tr>
<tr class="row-odd"><td colspan="2">utilization ratio (not include platform)</td>
<td>54.18%</td>
<td>43.54%</td>
<td>7.29%</td>
<td>0</td>
<td>51.88%</td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="#tab-mcee-resource"><span class="std std-numref">Table 15</span></a> gives the resource utilization report of four MCEuropeanEngine PUs (Processing Unit). Note that the resource statistics are under specific UN (Unroll Number) configurations. These UN configurations are the templated parameters of the corresponding API.</p>
<p>The complete Vitis demos of European Option Engine are executed with a U250 card on Nimbix.
The performance of this demo is listed in <a class="reference internal" href="#tab-mcee-performance"><span class="std std-numref">Table 16</span></a>. In this table, kernel execution time and end-to-end execution time (E2E) are calculated.</p>
<span id="tab-mcee-performance"></span><table border="1" class="docutils align-center" id="id4">
<caption><span class="caption-number">Table 16 </span><span class="caption-text">Performance of European Option demos on U250</span><a class="headerlink" href="#id4" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="29%" />
<col width="22%" />
<col width="24%" />
<col width="25%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td rowspan="2">Engine</td>
<td rowspan="2">Frequency</td>
<td colspan="2">Execution Time (ms)</td>
</tr>
<tr class="row-even"><td>kernel</td>
<td>E2E</td>
</tr>
<tr class="row-odd"><td>4 PUs</td>
<td>250MHz</td>
<td>7.1ms
(1000 loop)</td>
<td>53ms
(1000 loop)</td>
</tr>
</tbody>
</table>
<p>Because only output data is transferred from device to host, The kernel execution time doesn’t differentiate so much to E2E time.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>What is cold run and warm run?</p>
<ul class="last simple">
<li>Cold run means to run one application on board 1 time.</li>
<li>Warm run means to run the application multiple times on board. The E2E is calculated as the average time of multiple runs.</li>
</ul>
</div>
<p>In order to maximize the resource utilization on FPGA, the MCEuropeanEngine PU is duplicated.
There four MCEuropeaEngine PUs are placed different SLRs on U250. Due to place and route on FPGA, the kernel runs at 250MHz finally.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Analyzation of the execution time of MCEuropeanEngine</strong></p>
<p class="last">There are 4 PUs. Each PU could execution one application at one time. When there are multiple applications, they are distributed on different PUs and could by executed at the same time. So the warm run time is 1/4 of the cold run.</p>
</div>
<div class="toctree-wrapper compound">
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="MCAmericanEngine.html" class="btn btn-neutral float-right" title="Benchmark of American Option Pricing Engine" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../kernel_benchmark.html" class="btn btn-neutral float-left" title="Pricing Engines Demo" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo" class="copyright">
    <p>
        
        &copy; Copyright 2019, Xilinx

    </p>
  </div>
<!--
    
    
      Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 
-->
</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>